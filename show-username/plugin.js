(()=>{var r=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var E=Object.getOwnPropertyNames;var S=Object.prototype.hasOwnProperty;var l=(e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})},h=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of E(t))!S.call(e,s)&&s!==n&&r(e,s,{get:()=>t[s],enumerable:!(o=d(t,s))||o.enumerable});return e};var f=e=>h(r({},"__esModule",{value:!0}),e);var G={};l(G,{onLoad:()=>k,onUnload:()=>I});var{flux:{dispatcher:i,stores:{GuildMemberStore:m,ChannelStore:C,SelectedChannelStore:g,RelationshipStore:_}},util:{getFiber:b,reactFiberWalker:A},observeDom:p}=shelter;function N(e){if(e?.dataset?.ysink_su)return;e.dataset.ysink_su=!0;let t=A(b(e),"message",!0).pendingProps?.message,n=t.author?.username,o=t?.author?.id,{type:s,guild_id:c}=C.getChannel(t?.channel_id);!(s?_.getNickname(o):m.getNick(c,o))||!n||(e.firstElementChild.textContent+=` (${n})`)}var a=["MESSAGE_CREATE","CHANNEL_SELECT","LOAD_MESSAGES_SUCCESS","UPDATE_CHANNEL_DIMENSIONS"];function u(e){if(e.type==="MESSAGE_CREATE"&&e.channelId!==g.getChannelId())return;let t=p("[id^=message-username-]",n=>{t(),N(n)});setTimeout(t,500)}function k(){for(let e of a)i.subscribe(e,u)}function I(){for(let e of a)i.unsubscribe(e,u)}return f(G);})();
