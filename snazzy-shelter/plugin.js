(()=>{var Ja=Object.create;var Be=Object.defineProperty;var Va=Object.getOwnPropertyDescriptor;var Xa=Object.getOwnPropertyNames;var Qa=Object.getPrototypeOf,Za=Object.prototype.hasOwnProperty;var kr=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),es=(e,t)=>{for(var r in t)Be(e,r,{get:t[r],enumerable:!0})},jr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Xa(t))!Za.call(e,o)&&o!==r&&Be(e,o,{get:()=>t[o],enumerable:!(n=Va(t,o))||n.enumerable});return e};var u=(e,t,r)=>(r=e!=null?Ja(Qa(e)):{},jr(t||!e||!e.__esModule?Be(r,"default",{value:e,enumerable:!0}):r,e)),ts=e=>jr(Be({},"__esModule",{value:!0}),e);var m=kr((Zd,Wr)=>{Wr.exports=shelter.solidWeb});var Ri=kr((Px,ji)=>{ji.exports=shelter.solid});var jd={};es(jd,{onUnload:()=>kd});var rs=/[^\S\r\n]*?\r?\n[^\S\r\n]*?\*[^\S\r\n]?/,ns=/^\\@/;function os(e){try{return JSON.parse(e)}catch{}}function is(e){let t=e.split(`
`)[0],r=t.substring(t.lastIndexOf("//META")+6,t.lastIndexOf("*//")),n=os(r);if(!n)throw new Error("META could not be parsed.");if(!n.name)throw new Error("META missing name data.");return n}function as(e){let t=e.split("/**",2)[1].split("*/",1)[0],r={},n="",o="";for(let i of t.split(rs))if(i.length!==0)if(i.charAt(0)==="@"&&i.charAt(1)!==" "){n!==""&&(r[n]=o);let a=i.indexOf(" ");n=i.substr(1,a-1),o=i.substr(a+1)}else o+=` ${i.replace("\\n",`
`).replace(ns,"@")}`;return r[n]=o.trim(),r}var Rr=e=>{let t=e.split(`
`)[0];if(t.includes("//META"))return is(e);if(t.includes("/**"))return as(e);throw new Error("META was not found.")};var ue={},oe={};async function He(e){return ue[e]||(oe[e]||(oe[e]=[fetch(e).then(async t=>{ue[e]=[t.status,t.status===200?await t.text():void 0]}),0]),oe[e][1]++,await oe[e][0],oe[e][1]--,oe[e][1]===0&&delete oe[e]),ue[e]}async function Ge(e){let[t,r]=await He(e);return[t,r?JSON.parse(r):void 0]}var Nr=()=>Object.keys(ue).forEach(e=>delete ue[e]);async function ss(e,t){let r=new URL(e,t).href,[n,o]=await He(r);if(n!==200)throw new Error(`BD theme existed in cache with non-200 status ${n}`);return{url:r,CSS:()=>Promise.resolve(o),compat:!0,repoUrl:t,...Rr(o)}}async function cs(e,t){let r=new URL(e,t).href,n=new URL(e,t).pathname.split("/");n.splice(n.length-1,1,"cumcord_theme.json");let o=new URL(n.join("/"),new URL(e,t).origin).href,[i,a]=await Ge(o);if(i!==200)throw new Error(`CC manifest existed in cache with non-200 status ${i}`);return{url:r,compat:!1,...a,repoUrl:t,CSS:async()=>{let[s,c]=await He(r);if(s!==200)throw new Error(`CC CSS existed in cache with non-200 status ${s}`);return c}}}var G=async(e,t)=>{try{return await cs(e,t)}catch(r){try{return await ss(e,t)}catch(n){console.error(r,n);let o=new Error("Failed to fetch theme - both CC and BD either failed to fetch or failed to parse");throw o.e1=r,o.e2=n,o}}};async function ls(e){let t=new URL("repo.json",e).href,[r,n]=await Ge(t);if(r!==200)throw new Error(`Repo manifest existed in cache with non-200 status ${r}`);if(!n.themes||n.themes?.length===0)throw new Error("No themes found in repo");if(!n.meta)throw new Error("No repo metadata");if(!n?.meta.name)throw new Error("Repo did not have a name");return n}var Y=async e=>{let t=await ls(e),n=(await Promise.allSettled(t.themes.map(o=>G(o,e)))).filter(o=>o.status==="rejected"?(console.error("snazzy-shelter: loading theme failed: ",o.reason),!1):!0).map(o=>o.value);return{manifest:t,themes:n}};var{plugin:{store:Ae}}=shelter,Dt=Object.freeze(["https://cumcordthemes.github.io/Cumsock/"]),Lr=async()=>{Array.isArray(Ae.repos)||(Ae.repos=[]);for(let e of Dt)if(!Ae.repos.find(t=>t.url===e.url)){try{await Y(e)}catch{continue}Ae.repos=[...Ae.repos,e]}};var{solid:{createEffect:fs},plugin:{store:Dr},ui:{injectCss:us}}=shelter,Fr=()=>{let e=us(Dr.quickCSS||" "),t;return fs(()=>{t||e(Dr.quickCSS||" ")}),()=>{e(),t=!0}};var{ui:{injectCss:ms},plugin:{store:F}}=shelter,$e=new Map;async function ie(e){if(!e?.url||!await e.CSS())throw new Error("theme was missing either id or css.");let t=ms(await e.CSS());$e.set(e.url,t);let r=F.themes.findIndex(o=>o.url===e.url),n={...e};delete n.CSS,n.enabled=!0,r===-1?F.themes=[...F.themes,n]:F.themes[r]=n}function Ft(e){if(!e?.url)throw new Error("theme was missing id.");$e.get(e.url)?.(),$e.delete(e.url);let r=F.themes.findIndex(o=>o.url===e.url),n={...e};n.enabled=!1,r===-1?F.themes=[...F.themes,n]:F.themes[r]=n}function zr(e){try{Ft(e)}catch(t){if(t.message!=="theme was not loaded.")throw t}F.themes=F.themes.filter(t=>t.url!==e.url)}function Br(){$e.forEach(e=>e?.()),$e.clear()}var{plugin:{store:Hr}}=shelter,Gr=()=>{let e=!1;return Hr.themes&&Hr.themes.filter(t=>t.enabled).forEach(t=>G(t.url,t.repoUrl).then(r=>e||ie(r))),()=>{Br(),e=!0}};var Ur=()=>(window.snazzyShelter=Object.freeze({TODO:"WIP"}),()=>delete window.snazzyShelter);var La=u(m()),Ir=u(m()),Er=u(m());var _r=u(m()),Pi=u(m()),gr=u(m()),Ot=u(m()),Se=u(m());var Ye=u(m()),hn=u(m()),gn=u(m()),me=u(m()),z=u(m()),qe=u(m());var zt=u(m()),Kr=u(m()),qr=u(m()),Bt=u(m()),Yr=u(m()),ps=(0,zt.template)("<img>",1),ds=(0,zt.template)("<div></div>",2),Jr=(e,t)=>()=>(()=>{let r=ps.cloneNode(!0);return(0,Yr.setAttribute)(r,"src",e),(0,Bt.className)(r,`ysink_stain_badge ysink_stain_${t}`),r})(),Vr=Jr("https://betterdiscord.app/resources/branding/logo_small.svg","bd"),Xr=Jr("https://raw.githubusercontent.com/Cumcord/assets/main/logo/filled.svg","cc"),Qr=e=>(()=>{let t=ds.cloneNode(!0);return t.style.setProperty("border-radius","9999px"),t.style.setProperty("color","white"),t.style.setProperty("font-size",".8rem"),t.style.setProperty("padding",".1rem .3rem"),t.style.setProperty("text-transform","uppercase"),t.style.setProperty("font-weight","bold"),(0,qr.insert)(t,()=>e.text),(0,Kr.effect)(r=>{let n=e.class,o=e.color;return n!==r._v$&&(0,Bt.className)(t,r._v$=n),o!==r._v$2&&t.style.setProperty("background-color",r._v$2=o),r},{_v$:void 0,_v$2:void 0}),t})();var rn=u(m()),nn=u(m()),Oe=u(m());var Ke=u(m()),Ue=u(m()),We=u(m()),en=u(m()),hs=(0,Ke.template)("<div>WIP</div>",2),gs=(0,Ke.template)('<div class="ysink_stain_carousel"></div>',2),_s=(0,Ke.template)('<div class="ysink_stain_noimg"></div>',2),{Text:ys}=shelter.ui,Zr=e=>hs.cloneNode(!0),tn=e=>(()=>{let t=gs.cloneNode(!0);return(0,We.insert)(t,(()=>{let r=(0,en.memo)(()=>!!e.media);return()=>r()?(0,Ue.createComponent)(Zr,{get items(){return(typeof e.media=="string"?[e.media]:e.media).map(n=>({type:1,src:n}))},autoplayInterval:5e3}):(()=>{let n=_s.cloneNode(!0);return(0,We.insert)(n,(0,Ue.createComponent)(ys,{class:"ysink_stain_noimgtxt",children:"No Image"}),null),(0,We.insert)(n,(0,Ue.createComponent)(Zr,{items:[{type:1,src:""}]}),null),n})()})()),t})();var bs=(0,rn.template)("<div></div>",2),{openModal:vs,ModalRoot:xs,ModalHeader:ws,ModalBody:Ss,ModalSizes:Ts}=shelter.ui,on=e=>vs(({close:t})=>(0,Oe.createComponent)(xs,{get size(){return Ts.MEDIUM},get children(){return[(0,Oe.createComponent)(ws,{close:t}),(0,Oe.createComponent)(Ss,{get children(){let r=bs.cloneNode(!0);return r.style.setProperty("margin-bottom","1rem"),(0,nn.insert)(r,(0,Oe.createComponent)(tn,{media:e})),r}})]}}));var an=u(m()),sn=u(m()),cn=u(m()),Cs=(0,an.template)('<svg><path d="M 3.9999998,21.333333 C 3.9999998,22.8 5.1999998,24 6.6666665,24 H 17.333334 C 18.799999,24 20,22.8 20,21.333333 V 5.3333333 H 3.9999998 Z M 7.2799998,11.84 9.1599995,9.96 12,12.786667 14.826667,9.96 l 1.879999,1.88 -2.826667,2.826667 2.826667,2.826666 -1.879999,1.88 L 12,16.546667 l -2.8266665,2.826666 -1.8800003,-1.88 2.8266658,-2.826666 z M 16.666666,1.3333333 15.333334,0 H 8.6666665 L 7.3333332,1.3333333 H 2.6666665 V 4 H 21.333334 V 1.3333333 Z"></path></svg>',4),ln=e=>(()=>{let t=Cs.cloneNode(!0);return(0,sn.spread)(t,(0,cn.mergeProps)(e,{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px"}),!0,!0),t})();var fn=u(m()),un=u(m()),mn=u(m()),As=(0,fn.template)('<svg><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg>',4),pn=e=>(()=>{let t=As.cloneNode(!0);return(0,un.spread)(t,(0,mn.mergeProps)(e,{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px"}),!0,!0),t})();var $s=(0,Ye.template)('<div class="ysink_stain_card ysink_stain_tcard"><div class="ysink_stain_tmedia"></div><div class="ysink_stain_title"></div><div class="ysink_stain_tdesc"></div><div class="ysink_stain_tacts"></div><div class="ysink_stain_taulic"></div></div>',12),Os=(0,Ye.template)('<div class="ysink_stain_tview">VIEW MEDIA</div>',2),Is=(0,Ye.template)("<div>NO MEDIA</div>",2),{ui:{Switch:Es},plugin:{store:_n}}=shelter,Ms=e=>navigator.clipboard.writeText(e);function dn(e){for(let t of _n.themes)if(t.url===e&&t.enabled)return!0;return!1}var Ps=e=>_n.themes.some(t=>t.url===e),Je=e=>(()=>{let t=$s.cloneNode(!0),r=t.firstChild,n=r.nextSibling,o=n.nextSibling,i=o.nextSibling,a=i.nextSibling;return r.$$click=()=>e.theme.media&&on(e.theme.media),(0,z.insert)(r,(()=>{let s=(0,qe.memo)(()=>!!e.theme.media);return()=>s()?Os.cloneNode(!0):Is.cloneNode(!0)})()),(0,z.insert)(n,(()=>{let s=(0,qe.memo)(()=>!!e.theme.compat);return()=>s()?(0,me.createComponent)(Vr,{}):(0,me.createComponent)(Xr,{})})(),null),(0,z.insert)(n,()=>e.theme.name,null),(0,z.insert)(o,()=>e.theme.description),(0,z.insert)(i,(0,me.createComponent)(pn,{class:"ysink_stain_iconbtn",onClick:()=>Ms(e.theme.url)}),null),(0,z.insert)(i,(()=>{let s=(0,qe.memo)(()=>!!Ps(e.theme.url));return()=>s()?(0,me.createComponent)(ln,{class:"ysink_stain_iconbtn",onClick:()=>{zr(e.theme)}}):[]})(),null),(0,z.insert)(i,(0,me.createComponent)(Es,{get checked(){return dn(e.theme.url)},onChange:async()=>dn(e.theme.url)?Ft(e.theme):ie(await G(e.theme.url))}),null),(0,z.insert)(a,()=>e.theme.author?`by ${e.theme.author} `:"",null),(0,z.insert)(a,()=>e.theme.license?`under ${e.theme.license}`:"",null),(0,gn.effect)(s=>{let c=e.gap,l=e.theme.media&&`url(${Array.isArray(e.theme.media)?e.theme.media[0]:e.theme.media})`;return c!==s._v$&&t.style.setProperty("margin-bottom",s._v$=c),l!==s._v$2&&r.style.setProperty("background-image",s._v$2=l),s},{_v$:void 0,_v$2:void 0}),t})();(0,hn.delegateEvents)(["click"]);var bn=u(m()),Ht=u(m()),Gt=u(m());var ks=(0,bn.template)('<div class="ysink_stain_row"></div>',2),{ui:{Button:js,ButtonSizes:Rs,showToast:yn,TextBox:Ns},solid:{createSignal:Ls}}=shelter,vn=()=>{let[e,t]=Ls("");return(()=>{let r=ks.cloneNode(!0);return(0,Ht.insert)(r,(0,Gt.createComponent)(Ns,{get value(){return e()},onInput:t,placeholder:"Theme import URL"}),null),(0,Ht.insert)(r,(0,Gt.createComponent)(js,{class:"ysink_stain_button",get size(){return Rs.MEDIUM},onClick:()=>{G(e()).then(async n=>{await ie(n),yn({title:`Loaded theme ${n.name}`,duration:5e3}),t("")},()=>yn({title:"Failed to fetch theme - check URL",duration:5e3}))},children:"Install"}),null),r})()};function U(e){return Array.isArray?Array.isArray(e):On(e)==="[object Array]"}var Ds=1/0;function Fs(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-Ds?"-0":t}function zs(e){return e==null?"":Fs(e)}function B(e){return typeof e=="string"}function An(e){return typeof e=="number"}function Bs(e){return e===!0||e===!1||Hs(e)&&On(e)=="[object Boolean]"}function $n(e){return typeof e=="object"}function Hs(e){return $n(e)&&e!==null}function O(e){return e!=null}function Ut(e){return!e.trim().length}function On(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var Gs="Incorrect 'index' type",Us=e=>`Invalid value for key ${e}`,Ws=e=>`Pattern length exceeds max of ${e}.`,Ks=e=>`Missing ${e} property in key`,qs=e=>`Property 'weight' in key '${e}' must be a positive integer`,xn=Object.prototype.hasOwnProperty,Wt=class{constructor(t){this._keys=[],this._keyMap={};let r=0;t.forEach(n=>{let o=In(n);r+=o.weight,this._keys.push(o),this._keyMap[o.id]=o,r+=o.weight}),this._keys.forEach(n=>{n.weight/=r})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}};function In(e){let t=null,r=null,n=null,o=1,i=null;if(B(e)||U(e))n=e,t=wn(e),r=Kt(e);else{if(!xn.call(e,"name"))throw new Error(Ks("name"));let a=e.name;if(n=a,xn.call(e,"weight")&&(o=e.weight,o<=0))throw new Error(qs(a));t=wn(a),r=Kt(a),i=e.getFn}return{path:t,id:r,weight:o,src:n,getFn:i}}function wn(e){return U(e)?e:e.split(".")}function Kt(e){return U(e)?e.join("."):e}function Ys(e,t){let r=[],n=!1,o=(i,a,s)=>{if(O(i))if(!a[s])r.push(i);else{let c=a[s],l=i[c];if(!O(l))return;if(s===a.length-1&&(B(l)||An(l)||Bs(l)))r.push(zs(l));else if(U(l)){n=!0;for(let f=0,p=l.length;f<p;f+=1)o(l[f],a,s+1)}else a.length&&o(l,a,s+1)}};return o(e,B(t)?t.split("."):t,0),n?r:r[0]}var Js={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Vs={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},Xs={location:0,threshold:.6,distance:100},Qs={useExtendedSearch:!1,getFn:Ys,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},h={...Vs,...Js,...Xs,...Qs},Zs=/[^ ]+/g;function ec(e=1,t=3){let r=new Map,n=Math.pow(10,t);return{get(o){let i=o.match(Zs).length;if(r.has(i))return r.get(i);let a=1/Math.pow(i,.5*e),s=parseFloat(Math.round(a*n)/n);return r.set(i,s),s},clear(){r.clear()}}}var Ie=class{constructor({getFn:t=h.getFn,fieldNormWeight:r=h.fieldNormWeight}={}){this.norm=ec(r,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((r,n)=>{this._keysMap[r.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,B(this.docs[0])?this.docs.forEach((t,r)=>{this._addString(t,r)}):this.docs.forEach((t,r)=>{this._addObject(t,r)}),this.norm.clear())}add(t){let r=this.size();B(t)?this._addString(t,r):this._addObject(t,r)}removeAt(t){this.records.splice(t,1);for(let r=t,n=this.size();r<n;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(t,r){return t[this._keysMap[r]]}size(){return this.records.length}_addString(t,r){if(!O(t)||Ut(t))return;let n={v:t,i:r,n:this.norm.get(t)};this.records.push(n)}_addObject(t,r){let n={i:r,$:{}};this.keys.forEach((o,i)=>{let a=o.getFn?o.getFn(t):this.getFn(t,o.path);if(O(a)){if(U(a)){let s=[],c=[{nestedArrIndex:-1,value:a}];for(;c.length;){let{nestedArrIndex:l,value:f}=c.pop();if(O(f))if(B(f)&&!Ut(f)){let p={v:f,i:l,n:this.norm.get(f)};s.push(p)}else U(f)&&f.forEach((p,d)=>{c.push({nestedArrIndex:d,value:p})})}n.$[i]=s}else if(B(a)&&!Ut(a)){let s={v:a,n:this.norm.get(a)};n.$[i]=s}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}};function En(e,t,{getFn:r=h.getFn,fieldNormWeight:n=h.fieldNormWeight}={}){let o=new Ie({getFn:r,fieldNormWeight:n});return o.setKeys(e.map(In)),o.setSources(t),o.create(),o}function tc(e,{getFn:t=h.getFn,fieldNormWeight:r=h.fieldNormWeight}={}){let{keys:n,records:o}=e,i=new Ie({getFn:t,fieldNormWeight:r});return i.setKeys(n),i.setIndexRecords(o),i}function Ve(e,{errors:t=0,currentLocation:r=0,expectedLocation:n=0,distance:o=h.distance,ignoreLocation:i=h.ignoreLocation}={}){let a=t/e.length;if(i)return a;let s=Math.abs(n-r);return o?a+s/o:s?1:a}function rc(e=[],t=h.minMatchCharLength){let r=[],n=-1,o=-1,i=0;for(let a=e.length;i<a;i+=1){let s=e[i];s&&n===-1?n=i:!s&&n!==-1&&(o=i-1,o-n+1>=t&&r.push([n,o]),n=-1)}return e[i-1]&&i-n>=t&&r.push([n,i-1]),r}var ae=32;function nc(e,t,r,{location:n=h.location,distance:o=h.distance,threshold:i=h.threshold,findAllMatches:a=h.findAllMatches,minMatchCharLength:s=h.minMatchCharLength,includeMatches:c=h.includeMatches,ignoreLocation:l=h.ignoreLocation}={}){if(t.length>ae)throw new Error(Ws(ae));let f=t.length,p=e.length,d=Math.max(0,Math.min(n,p)),g=i,_=d,y=s>1||c,T=y?Array(p):[],x;for(;(x=e.indexOf(t,_))>-1;){let w=Ve(t,{currentLocation:x,expectedLocation:d,distance:o,ignoreLocation:l});if(g=Math.min(w,g),_=x+f,y){let $=0;for(;$<f;)T[x+$]=1,$+=1}}_=-1;let A=[],I=1,P=f+p,D=1<<f-1;for(let w=0;w<f;w+=1){let $=0,k=P;for(;$<k;)Ve(t,{errors:w,currentLocation:d+k,expectedLocation:d,distance:o,ignoreLocation:l})<=g?$=k:P=k,k=Math.floor((P-$)/2+$);P=k;let Mr=Math.max(1,d-k+1),Lt=a?p:Math.min(d+k,p)+f,fe=Array(Lt+2);fe[Lt+1]=(1<<w)-1;for(let j=Lt;j>=Mr;j-=1){let ze=j-1,Pr=r[e.charAt(ze)];if(y&&(T[ze]=+!!Pr),fe[j]=(fe[j+1]<<1|1)&Pr,w&&(fe[j]|=(A[j+1]|A[j])<<1|1|A[j+1]),fe[j]&D&&(I=Ve(t,{errors:w,currentLocation:ze,expectedLocation:d,distance:o,ignoreLocation:l}),I<=g)){if(g=I,_=ze,_<=d)break;Mr=Math.max(1,2*d-_)}}if(Ve(t,{errors:w+1,currentLocation:d,expectedLocation:d,distance:o,ignoreLocation:l})>g)break;A=fe}let v={isMatch:_>=0,score:Math.max(.001,I)};if(y){let w=rc(T,s);w.length?c&&(v.indices=w):v.isMatch=!1}return v}function oc(e){let t={};for(let r=0,n=e.length;r<n;r+=1){let o=e.charAt(r);t[o]=(t[o]||0)|1<<n-r-1}return t}var Xe=class{constructor(t,{location:r=h.location,threshold:n=h.threshold,distance:o=h.distance,includeMatches:i=h.includeMatches,findAllMatches:a=h.findAllMatches,minMatchCharLength:s=h.minMatchCharLength,isCaseSensitive:c=h.isCaseSensitive,ignoreLocation:l=h.ignoreLocation}={}){if(this.options={location:r,threshold:n,distance:o,includeMatches:i,findAllMatches:a,minMatchCharLength:s,isCaseSensitive:c,ignoreLocation:l},this.pattern=c?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;let f=(d,g)=>{this.chunks.push({pattern:d,alphabet:oc(d),startIndex:g})},p=this.pattern.length;if(p>ae){let d=0,g=p%ae,_=p-g;for(;d<_;)f(this.pattern.substr(d,ae),d),d+=ae;if(g){let y=p-ae;f(this.pattern.substr(y),y)}}else f(this.pattern,0)}searchIn(t){let{isCaseSensitive:r,includeMatches:n}=this.options;if(r||(t=t.toLowerCase()),this.pattern===t){let _={isMatch:!0,score:0};return n&&(_.indices=[[0,t.length-1]]),_}let{location:o,distance:i,threshold:a,findAllMatches:s,minMatchCharLength:c,ignoreLocation:l}=this.options,f=[],p=0,d=!1;this.chunks.forEach(({pattern:_,alphabet:y,startIndex:T})=>{let{isMatch:x,score:A,indices:I}=nc(t,_,y,{location:o+T,distance:i,threshold:a,findAllMatches:s,minMatchCharLength:c,includeMatches:n,ignoreLocation:l});x&&(d=!0),p+=A,x&&I&&(f=[...f,...I])});let g={isMatch:d,score:d?p/this.chunks.length:1};return d&&n&&(g.indices=f),g}},H=class{constructor(t){this.pattern=t}static isMultiMatch(t){return Sn(t,this.multiRegex)}static isSingleMatch(t){return Sn(t,this.singleRegex)}search(){}};function Sn(e,t){let r=e.match(t);return r?r[1]:null}var qt=class extends H{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){let r=t===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}},Yt=class extends H{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){let n=t.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}},Jt=class extends H{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){let r=t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}},Vt=class extends H{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){let r=!t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}},Xt=class extends H{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){let r=t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[t.length-this.pattern.length,t.length-1]}}},Qt=class extends H{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){let r=!t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}},Qe=class extends H{constructor(t,{location:r=h.location,threshold:n=h.threshold,distance:o=h.distance,includeMatches:i=h.includeMatches,findAllMatches:a=h.findAllMatches,minMatchCharLength:s=h.minMatchCharLength,isCaseSensitive:c=h.isCaseSensitive,ignoreLocation:l=h.ignoreLocation}={}){super(t),this._bitapSearch=new Xe(t,{location:r,threshold:n,distance:o,includeMatches:i,findAllMatches:a,minMatchCharLength:s,isCaseSensitive:c,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}},Ze=class extends H{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let r=0,n,o=[],i=this.pattern.length;for(;(n=t.indexOf(this.pattern,r))>-1;)r=n+i,o.push([n,r-1]);let a=!!o.length;return{isMatch:a,score:a?0:1,indices:o}}},Zt=[qt,Ze,Jt,Vt,Qt,Xt,Yt,Qe],Tn=Zt.length,ic=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,ac="|";function sc(e,t={}){return e.split(ac).map(r=>{let n=r.trim().split(ic).filter(i=>i&&!!i.trim()),o=[];for(let i=0,a=n.length;i<a;i+=1){let s=n[i],c=!1,l=-1;for(;!c&&++l<Tn;){let f=Zt[l],p=f.isMultiMatch(s);p&&(o.push(new f(p,t)),c=!0)}if(!c)for(l=-1;++l<Tn;){let f=Zt[l],p=f.isSingleMatch(s);if(p){o.push(new f(p,t));break}}}return o})}var cc=new Set([Qe.type,Ze.type]),er=class{constructor(t,{isCaseSensitive:r=h.isCaseSensitive,includeMatches:n=h.includeMatches,minMatchCharLength:o=h.minMatchCharLength,ignoreLocation:i=h.ignoreLocation,findAllMatches:a=h.findAllMatches,location:s=h.location,threshold:c=h.threshold,distance:l=h.distance}={}){this.query=null,this.options={isCaseSensitive:r,includeMatches:n,minMatchCharLength:o,findAllMatches:a,ignoreLocation:i,location:s,threshold:c,distance:l},this.pattern=r?t:t.toLowerCase(),this.query=sc(this.pattern,this.options)}static condition(t,r){return r.useExtendedSearch}searchIn(t){let r=this.query;if(!r)return{isMatch:!1,score:1};let{includeMatches:n,isCaseSensitive:o}=this.options;t=o?t:t.toLowerCase();let i=0,a=[],s=0;for(let c=0,l=r.length;c<l;c+=1){let f=r[c];a.length=0,i=0;for(let p=0,d=f.length;p<d;p+=1){let g=f[p],{isMatch:_,indices:y,score:T}=g.search(t);if(_){if(i+=1,s+=T,n){let x=g.constructor.type;cc.has(x)?a=[...a,...y]:a.push(y)}}else{s=0,i=0,a.length=0;break}}if(i){let p={isMatch:!0,score:s/i};return n&&(p.indices=a),p}}return{isMatch:!1,score:1}}},tr=[];function lc(...e){tr.push(...e)}function rr(e,t){for(let r=0,n=tr.length;r<n;r+=1){let o=tr[r];if(o.condition(e,t))return new o(e,t)}return new Xe(e,t)}var et={AND:"$and",OR:"$or"},nr={PATH:"$path",PATTERN:"$val"},or=e=>!!(e[et.AND]||e[et.OR]),fc=e=>!!e[nr.PATH],uc=e=>!U(e)&&$n(e)&&!or(e),Cn=e=>({[et.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function Mn(e,t,{auto:r=!0}={}){let n=o=>{let i=Object.keys(o),a=fc(o);if(!a&&i.length>1&&!or(o))return n(Cn(o));if(uc(o)){let c=a?o[nr.PATH]:i[0],l=a?o[nr.PATTERN]:o[c];if(!B(l))throw new Error(Us(c));let f={keyId:Kt(c),pattern:l};return r&&(f.searcher=rr(l,t)),f}let s={children:[],operator:i[0]};return i.forEach(c=>{let l=o[c];U(l)&&l.forEach(f=>{s.children.push(n(f))})}),s};return or(e)||(e=Cn(e)),n(e)}function mc(e,{ignoreFieldNorm:t=h.ignoreFieldNorm}){e.forEach(r=>{let n=1;r.matches.forEach(({key:o,norm:i,score:a})=>{let s=o?o.weight:null;n*=Math.pow(a===0&&s?Number.EPSILON:a,(s||1)*(t?1:i))}),r.score=n})}function pc(e,t){let r=e.matches;t.matches=[],O(r)&&r.forEach(n=>{if(!O(n.indices)||!n.indices.length)return;let{indices:o,value:i}=n,a={indices:o,value:i};n.key&&(a.key=n.key.src),n.idx>-1&&(a.refIndex=n.idx),t.matches.push(a)})}function dc(e,t){t.score=e.score}function hc(e,t,{includeMatches:r=h.includeMatches,includeScore:n=h.includeScore}={}){let o=[];return r&&o.push(pc),n&&o.push(dc),e.map(i=>{let{idx:a}=i,s={item:t[a],refIndex:a};return o.length&&o.forEach(c=>{c(i,s)}),s})}var W=class{constructor(t,r={},n){this.options={...h,...r},this.options.useExtendedSearch,this._keyStore=new Wt(this.options.keys),this.setCollection(t,n)}setCollection(t,r){if(this._docs=t,r&&!(r instanceof Ie))throw new Error(Gs);this._myIndex=r||En(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){O(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){let r=[];for(let n=0,o=this._docs.length;n<o;n+=1){let i=this._docs[n];t(i,n)&&(this.removeAt(n),n-=1,o-=1,r.push(i))}return r}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:r=-1}={}){let{includeMatches:n,includeScore:o,shouldSort:i,sortFn:a,ignoreFieldNorm:s}=this.options,c=B(t)?B(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return mc(c,{ignoreFieldNorm:s}),i&&c.sort(a),An(r)&&r>-1&&(c=c.slice(0,r)),hc(c,this._docs,{includeMatches:n,includeScore:o})}_searchStringList(t){let r=rr(t,this.options),{records:n}=this._myIndex,o=[];return n.forEach(({v:i,i:a,n:s})=>{if(!O(i))return;let{isMatch:c,score:l,indices:f}=r.searchIn(i);c&&o.push({item:i,idx:a,matches:[{score:l,value:i,norm:s,indices:f}]})}),o}_searchLogical(t){let r=Mn(t,this.options),n=(s,c,l)=>{if(!s.children){let{keyId:p,searcher:d}=s,g=this._findMatches({key:this._keyStore.get(p),value:this._myIndex.getValueForItemAtKeyId(c,p),searcher:d});return g&&g.length?[{idx:l,item:c,matches:g}]:[]}let f=[];for(let p=0,d=s.children.length;p<d;p+=1){let g=s.children[p],_=n(g,c,l);if(_.length)f.push(..._);else if(s.operator===et.AND)return[]}return f},o=this._myIndex.records,i={},a=[];return o.forEach(({$:s,i:c})=>{if(O(s)){let l=n(r,s,c);l.length&&(i[c]||(i[c]={idx:c,item:s,matches:[]},a.push(i[c])),l.forEach(({matches:f})=>{i[c].matches.push(...f)}))}}),a}_searchObjectList(t){let r=rr(t,this.options),{keys:n,records:o}=this._myIndex,i=[];return o.forEach(({$:a,i:s})=>{if(!O(a))return;let c=[];n.forEach((l,f)=>{c.push(...this._findMatches({key:l,value:a[f],searcher:r}))}),c.length&&i.push({idx:s,item:a,matches:c})}),i}_findMatches({key:t,value:r,searcher:n}){if(!O(r))return[];let o=[];if(U(r))r.forEach(({v:i,i:a,n:s})=>{if(!O(i))return;let{isMatch:c,score:l,indices:f}=n.searchIn(i);c&&o.push({score:l,key:t,value:i,idx:a,norm:s,indices:f})});else{let{v:i,n:a}=r,{isMatch:s,score:c,indices:l}=n.searchIn(i);s&&o.push({score:c,key:t,value:i,norm:a,indices:l})}return o}};W.version="6.6.2";W.createIndex=En;W.parseIndex=tc;W.config=h;W.parseQuery=Mn;lc(er);function gc(){this.__data__=[],this.size=0}var Pn=gc;function _c(e,t){return e===t||e!==e&&t!==t}var tt=_c;function yc(e,t){for(var r=e.length;r--;)if(tt(e[r][0],t))return r;return-1}var J=yc;var bc=Array.prototype,vc=bc.splice;function xc(e){var t=this.__data__,r=J(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():vc.call(t,r,1),--this.size,!0}var kn=xc;function wc(e){var t=this.__data__,r=J(t,e);return r<0?void 0:t[r][1]}var jn=wc;function Sc(e){return J(this.__data__,e)>-1}var Rn=Sc;function Tc(e,t){var r=this.__data__,n=J(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Nn=Tc;function pe(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}pe.prototype.clear=Pn;pe.prototype.delete=kn;pe.prototype.get=jn;pe.prototype.has=Rn;pe.prototype.set=Nn;var V=pe;function Cc(){this.__data__=new V,this.size=0}var Ln=Cc;function Ac(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Dn=Ac;function $c(e){return this.__data__.get(e)}var Fn=$c;function Oc(e){return this.__data__.has(e)}var zn=Oc;var Ic=typeof global=="object"&&global&&global.Object===Object&&global,rt=Ic;var Ec=typeof self=="object"&&self&&self.Object===Object&&self,Mc=rt||Ec||Function("return this")(),S=Mc;var Pc=S.Symbol,E=Pc;var Bn=Object.prototype,kc=Bn.hasOwnProperty,jc=Bn.toString,Ee=E?E.toStringTag:void 0;function Rc(e){var t=kc.call(e,Ee),r=e[Ee];try{e[Ee]=void 0;var n=!0}catch{}var o=jc.call(e);return n&&(t?e[Ee]=r:delete e[Ee]),o}var Hn=Rc;var Nc=Object.prototype,Lc=Nc.toString;function Dc(e){return Lc.call(e)}var Gn=Dc;var Fc="[object Null]",zc="[object Undefined]",Un=E?E.toStringTag:void 0;function Bc(e){return e==null?e===void 0?zc:Fc:Un&&Un in Object(e)?Hn(e):Gn(e)}var R=Bc;function Hc(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var N=Hc;var Gc="[object AsyncFunction]",Uc="[object Function]",Wc="[object GeneratorFunction]",Kc="[object Proxy]";function qc(e){if(!N(e))return!1;var t=R(e);return t==Uc||t==Wc||t==Gc||t==Kc}var nt=qc;var Yc=S["__core-js_shared__"],ot=Yc;var Wn=function(){var e=/[^.]+$/.exec(ot&&ot.keys&&ot.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Jc(e){return!!Wn&&Wn in e}var Kn=Jc;var Vc=Function.prototype,Xc=Vc.toString;function Qc(e){if(e!=null){try{return Xc.call(e)}catch{}try{return e+""}catch{}}return""}var K=Qc;var Zc=/[\\^$.*+?()[\]{}|]/g,el=/^\[object .+?Constructor\]$/,tl=Function.prototype,rl=Object.prototype,nl=tl.toString,ol=rl.hasOwnProperty,il=RegExp("^"+nl.call(ol).replace(Zc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function al(e){if(!N(e)||Kn(e))return!1;var t=nt(e)?il:el;return t.test(K(e))}var qn=al;function sl(e,t){return e?.[t]}var Yn=sl;function cl(e,t){var r=Yn(e,t);return qn(r)?r:void 0}var M=cl;var ll=M(S,"Map"),X=ll;var fl=M(Object,"create"),q=fl;function ul(){this.__data__=q?q(null):{},this.size=0}var Jn=ul;function ml(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Vn=ml;var pl="__lodash_hash_undefined__",dl=Object.prototype,hl=dl.hasOwnProperty;function gl(e){var t=this.__data__;if(q){var r=t[e];return r===pl?void 0:r}return hl.call(t,e)?t[e]:void 0}var Xn=gl;var _l=Object.prototype,yl=_l.hasOwnProperty;function bl(e){var t=this.__data__;return q?t[e]!==void 0:yl.call(t,e)}var Qn=bl;var vl="__lodash_hash_undefined__";function xl(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=q&&t===void 0?vl:t,this}var Zn=xl;function de(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}de.prototype.clear=Jn;de.prototype.delete=Vn;de.prototype.get=Xn;de.prototype.has=Qn;de.prototype.set=Zn;var ir=de;function wl(){this.size=0,this.__data__={hash:new ir,map:new(X||V),string:new ir}}var eo=wl;function Sl(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var to=Sl;function Tl(e,t){var r=e.__data__;return to(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Q=Tl;function Cl(e){var t=Q(this,e).delete(e);return this.size-=t?1:0,t}var ro=Cl;function Al(e){return Q(this,e).get(e)}var no=Al;function $l(e){return Q(this,e).has(e)}var oo=$l;function Ol(e,t){var r=Q(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var io=Ol;function he(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}he.prototype.clear=eo;he.prototype.delete=ro;he.prototype.get=no;he.prototype.has=oo;he.prototype.set=io;var se=he;var Il=200;function El(e,t){var r=this.__data__;if(r instanceof V){var n=r.__data__;if(!X||n.length<Il-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new se(n)}return r.set(e,t),this.size=r.size,this}var ao=El;function ge(e){var t=this.__data__=new V(e);this.size=t.size}ge.prototype.clear=Ln;ge.prototype.delete=Dn;ge.prototype.get=Fn;ge.prototype.has=zn;ge.prototype.set=ao;var _e=ge;var Ml="__lodash_hash_undefined__";function Pl(e){return this.__data__.set(e,Ml),this}var so=Pl;function kl(e){return this.__data__.has(e)}var co=kl;function it(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new se;++t<r;)this.add(e[t])}it.prototype.add=it.prototype.push=so;it.prototype.has=co;var at=it;function jl(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var lo=jl;function Rl(e,t){return e.has(t)}var st=Rl;var Nl=1,Ll=2;function Dl(e,t,r,n,o,i){var a=r&Nl,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var l=i.get(e),f=i.get(t);if(l&&f)return l==t&&f==e;var p=-1,d=!0,g=r&Ll?new at:void 0;for(i.set(e,t),i.set(t,e);++p<s;){var _=e[p],y=t[p];if(n)var T=a?n(y,_,p,t,e,i):n(_,y,p,e,t,i);if(T!==void 0){if(T)continue;d=!1;break}if(g){if(!lo(t,function(x,A){if(!st(g,A)&&(_===x||o(_,x,r,n,i)))return g.push(A)})){d=!1;break}}else if(!(_===y||o(_,y,r,n,i))){d=!1;break}}return i.delete(e),i.delete(t),d}var ct=Dl;var Fl=S.Uint8Array,ar=Fl;function zl(e){var t=-1,r=Array(e.size);return e.forEach(function(n,o){r[++t]=[o,n]}),r}var fo=zl;function Bl(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var ye=Bl;var Hl=1,Gl=2,Ul="[object Boolean]",Wl="[object Date]",Kl="[object Error]",ql="[object Map]",Yl="[object Number]",Jl="[object RegExp]",Vl="[object Set]",Xl="[object String]",Ql="[object Symbol]",Zl="[object ArrayBuffer]",ef="[object DataView]",uo=E?E.prototype:void 0,sr=uo?uo.valueOf:void 0;function tf(e,t,r,n,o,i,a){switch(r){case ef:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Zl:return!(e.byteLength!=t.byteLength||!i(new ar(e),new ar(t)));case Ul:case Wl:case Yl:return tt(+e,+t);case Kl:return e.name==t.name&&e.message==t.message;case Jl:case Xl:return e==t+"";case ql:var s=fo;case Vl:var c=n&Hl;if(s||(s=ye),e.size!=t.size&&!c)return!1;var l=a.get(e);if(l)return l==t;n|=Gl,a.set(e,t);var f=ct(s(e),s(t),n,o,i,a);return a.delete(e),f;case Ql:if(sr)return sr.call(e)==sr.call(t)}return!1}var mo=tf;function rf(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}var po=rf;var nf=Array.isArray,C=nf;function of(e,t,r){var n=t(e);return C(e)?n:po(n,r(e))}var ho=of;function af(e,t){for(var r=-1,n=e==null?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i}var go=af;function sf(){return[]}var _o=sf;var cf=Object.prototype,lf=cf.propertyIsEnumerable,yo=Object.getOwnPropertySymbols,ff=yo?function(e){return e==null?[]:(e=Object(e),go(yo(e),function(t){return lf.call(e,t)}))}:_o,bo=ff;function uf(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var vo=uf;function mf(e){return e!=null&&typeof e=="object"}var L=mf;var pf="[object Arguments]";function df(e){return L(e)&&R(e)==pf}var cr=df;var xo=Object.prototype,hf=xo.hasOwnProperty,gf=xo.propertyIsEnumerable,_f=cr(function(){return arguments}())?cr:function(e){return L(e)&&hf.call(e,"callee")&&!gf.call(e,"callee")},lt=_f;function yf(){return!1}var wo=yf;var Co=typeof exports=="object"&&exports&&!exports.nodeType&&exports,So=Co&&typeof module=="object"&&module&&!module.nodeType&&module,bf=So&&So.exports===Co,To=bf?S.Buffer:void 0,vf=To?To.isBuffer:void 0,xf=vf||wo,Me=xf;var wf=9007199254740991,Sf=/^(?:0|[1-9]\d*)$/;function Tf(e,t){var r=typeof e;return t=t??wf,!!t&&(r=="number"||r!="symbol"&&Sf.test(e))&&e>-1&&e%1==0&&e<t}var ft=Tf;var Cf=9007199254740991;function Af(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Cf}var be=Af;var $f="[object Arguments]",Of="[object Array]",If="[object Boolean]",Ef="[object Date]",Mf="[object Error]",Pf="[object Function]",kf="[object Map]",jf="[object Number]",Rf="[object Object]",Nf="[object RegExp]",Lf="[object Set]",Df="[object String]",Ff="[object WeakMap]",zf="[object ArrayBuffer]",Bf="[object DataView]",Hf="[object Float32Array]",Gf="[object Float64Array]",Uf="[object Int8Array]",Wf="[object Int16Array]",Kf="[object Int32Array]",qf="[object Uint8Array]",Yf="[object Uint8ClampedArray]",Jf="[object Uint16Array]",Vf="[object Uint32Array]",b={};b[Hf]=b[Gf]=b[Uf]=b[Wf]=b[Kf]=b[qf]=b[Yf]=b[Jf]=b[Vf]=!0;b[$f]=b[Of]=b[zf]=b[If]=b[Bf]=b[Ef]=b[Mf]=b[Pf]=b[kf]=b[jf]=b[Rf]=b[Nf]=b[Lf]=b[Df]=b[Ff]=!1;function Xf(e){return L(e)&&be(e.length)&&!!b[R(e)]}var Ao=Xf;function Qf(e){return function(t){return e(t)}}var $o=Qf;var Oo=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Pe=Oo&&typeof module=="object"&&module&&!module.nodeType&&module,Zf=Pe&&Pe.exports===Oo,lr=Zf&&rt.process,eu=function(){try{var e=Pe&&Pe.require&&Pe.require("util").types;return e||lr&&lr.binding&&lr.binding("util")}catch{}}(),fr=eu;var Io=fr&&fr.isTypedArray,tu=Io?$o(Io):Ao,ut=tu;var ru=Object.prototype,nu=ru.hasOwnProperty;function ou(e,t){var r=C(e),n=!r&&lt(e),o=!r&&!n&&Me(e),i=!r&&!n&&!o&&ut(e),a=r||n||o||i,s=a?vo(e.length,String):[],c=s.length;for(var l in e)(t||nu.call(e,l))&&!(a&&(l=="length"||o&&(l=="offset"||l=="parent")||i&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||ft(l,c)))&&s.push(l);return s}var Eo=ou;var iu=Object.prototype;function au(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||iu;return e===r}var Mo=au;function su(e,t){return function(r){return e(t(r))}}var Po=su;var cu=Po(Object.keys,Object),ko=cu;var lu=Object.prototype,fu=lu.hasOwnProperty;function uu(e){if(!Mo(e))return ko(e);var t=[];for(var r in Object(e))fu.call(e,r)&&r!="constructor"&&t.push(r);return t}var jo=uu;function mu(e){return e!=null&&be(e.length)&&!nt(e)}var mt=mu;function pu(e){return mt(e)?Eo(e):jo(e)}var ve=pu;function du(e){return ho(e,ve,bo)}var ur=du;var hu=1,gu=Object.prototype,_u=gu.hasOwnProperty;function yu(e,t,r,n,o,i){var a=r&hu,s=ur(e),c=s.length,l=ur(t),f=l.length;if(c!=f&&!a)return!1;for(var p=c;p--;){var d=s[p];if(!(a?d in t:_u.call(t,d)))return!1}var g=i.get(e),_=i.get(t);if(g&&_)return g==t&&_==e;var y=!0;i.set(e,t),i.set(t,e);for(var T=a;++p<c;){d=s[p];var x=e[d],A=t[d];if(n)var I=a?n(A,x,d,t,e,i):n(x,A,d,e,t,i);if(!(I===void 0?x===A||o(x,A,r,n,i):I)){y=!1;break}T||(T=d=="constructor")}if(y&&!T){var P=e.constructor,D=t.constructor;P!=D&&"constructor"in e&&"constructor"in t&&!(typeof P=="function"&&P instanceof P&&typeof D=="function"&&D instanceof D)&&(y=!1)}return i.delete(e),i.delete(t),y}var Ro=yu;var bu=M(S,"DataView"),pt=bu;var vu=M(S,"Promise"),dt=vu;var xu=M(S,"Set"),Z=xu;var wu=M(S,"WeakMap"),ht=wu;var No="[object Map]",Su="[object Object]",Lo="[object Promise]",Do="[object Set]",Fo="[object WeakMap]",zo="[object DataView]",Tu=K(pt),Cu=K(X),Au=K(dt),$u=K(Z),Ou=K(ht),ce=R;(pt&&ce(new pt(new ArrayBuffer(1)))!=zo||X&&ce(new X)!=No||dt&&ce(dt.resolve())!=Lo||Z&&ce(new Z)!=Do||ht&&ce(new ht)!=Fo)&&(ce=function(e){var t=R(e),r=t==Su?e.constructor:void 0,n=r?K(r):"";if(n)switch(n){case Tu:return zo;case Cu:return No;case Au:return Lo;case $u:return Do;case Ou:return Fo}return t});var mr=ce;var Iu=1,Bo="[object Arguments]",Ho="[object Array]",gt="[object Object]",Eu=Object.prototype,Go=Eu.hasOwnProperty;function Mu(e,t,r,n,o,i){var a=C(e),s=C(t),c=a?Ho:mr(e),l=s?Ho:mr(t);c=c==Bo?gt:c,l=l==Bo?gt:l;var f=c==gt,p=l==gt,d=c==l;if(d&&Me(e)){if(!Me(t))return!1;a=!0,f=!1}if(d&&!f)return i||(i=new _e),a||ut(e)?ct(e,t,r,n,o,i):mo(e,t,c,r,n,o,i);if(!(r&Iu)){var g=f&&Go.call(e,"__wrapped__"),_=p&&Go.call(t,"__wrapped__");if(g||_){var y=g?e.value():e,T=_?t.value():t;return i||(i=new _e),o(y,T,r,n,i)}}return d?(i||(i=new _e),Ro(e,t,r,n,o,i)):!1}var Uo=Mu;function Wo(e,t,r,n,o){return e===t?!0:e==null||t==null||!L(e)&&!L(t)?e!==e&&t!==t:Uo(e,t,r,n,Wo,o)}var _t=Wo;var Pu=1,ku=2;function ju(e,t,r,n){var o=r.length,i=o,a=!n;if(e==null)return!i;for(e=Object(e);o--;){var s=r[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){s=r[o];var c=s[0],l=e[c],f=s[1];if(a&&s[2]){if(l===void 0&&!(c in e))return!1}else{var p=new _e;if(n)var d=n(l,f,c,e,t,p);if(!(d===void 0?_t(f,l,Pu|ku,n,p):d))return!1}}return!0}var Ko=ju;function Ru(e){return e===e&&!N(e)}var yt=Ru;function Nu(e){for(var t=ve(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,yt(o)]}return t}var qo=Nu;function Lu(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var bt=Lu;function Du(e){var t=qo(e);return t.length==1&&t[0][2]?bt(t[0][0],t[0][1]):function(r){return r===e||Ko(r,e,t)}}var Yo=Du;var Fu="[object Symbol]";function zu(e){return typeof e=="symbol"||L(e)&&R(e)==Fu}var ee=zu;var Bu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Hu=/^\w*$/;function Gu(e,t){if(C(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||ee(e)?!0:Hu.test(e)||!Bu.test(e)||t!=null&&e in Object(t)}var xe=Gu;var Uu="Expected a function";function pr(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Uu);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(pr.Cache||se),r}pr.Cache=se;var Jo=pr;var Wu=500;function Ku(e){var t=Jo(e,function(n){return r.size===Wu&&r.clear(),n}),r=t.cache;return t}var Vo=Ku;var qu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Yu=/\\(\\)?/g,Ju=Vo(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(qu,function(r,n,o,i){t.push(o?i.replace(Yu,"$1"):n||r)}),t}),Xo=Ju;function Vu(e,t){for(var r=-1,n=e==null?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}var Qo=Vu;var Xu=1/0,Zo=E?E.prototype:void 0,ei=Zo?Zo.toString:void 0;function ti(e){if(typeof e=="string")return e;if(C(e))return Qo(e,ti)+"";if(ee(e))return ei?ei.call(e):"";var t=e+"";return t=="0"&&1/e==-Xu?"-0":t}var ri=ti;function Qu(e){return e==null?"":ri(e)}var ni=Qu;function Zu(e,t){return C(e)?e:xe(e,t)?[e]:Xo(ni(e))}var vt=Zu;var em=1/0;function tm(e){if(typeof e=="string"||ee(e))return e;var t=e+"";return t=="0"&&1/e==-em?"-0":t}var te=tm;function rm(e,t){t=vt(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[te(t[r++])];return r&&r==n?e:void 0}var xt=rm;function nm(e,t,r){var n=e==null?void 0:xt(e,t);return n===void 0?r:n}var oi=nm;function om(e,t){return e!=null&&t in Object(e)}var ii=om;function im(e,t,r){t=vt(t,e);for(var n=-1,o=t.length,i=!1;++n<o;){var a=te(t[n]);if(!(i=e!=null&&r(e,a)))break;e=e[a]}return i||++n!=o?i:(o=e==null?0:e.length,!!o&&be(o)&&ft(a,o)&&(C(e)||lt(e)))}var ai=im;function am(e,t){return e!=null&&ai(e,t,ii)}var si=am;var sm=1,cm=2;function lm(e,t){return xe(e)&&yt(t)?bt(te(e),t):function(r){var n=oi(r,e);return n===void 0&&n===t?si(r,e):_t(t,n,sm|cm)}}var ci=lm;function fm(e){return e}var wt=fm;function um(e){return function(t){return t?.[e]}}var li=um;function mm(e){return function(t){return xt(t,e)}}var fi=mm;function pm(e){return xe(e)?li(te(e)):fi(e)}var ui=pm;function dm(e){return typeof e=="function"?e:e==null?wt:typeof e=="object"?C(e)?ci(e[0],e[1]):Yo(e):ui(e)}var mi=dm;function hm(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}var pi=hm;function gm(e){return e!==e}var di=gm;function _m(e,t,r){for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}var hi=_m;function ym(e,t,r){return t===t?hi(e,t,r):pi(e,di,r)}var gi=ym;function bm(e,t){var r=e==null?0:e.length;return!!r&&gi(e,t,0)>-1}var _i=bm;function vm(e,t,r){for(var n=-1,o=e==null?0:e.length;++n<o;)if(r(t,e[n]))return!0;return!1}var yi=vm;function xm(){}var bi=xm;var wm=1/0,Sm=Z&&1/ye(new Z([,-0]))[1]==wm?function(e){return new Z(e)}:bi,vi=Sm;var Tm=200;function Cm(e,t,r){var n=-1,o=_i,i=e.length,a=!0,s=[],c=s;if(r)a=!1,o=yi;else if(i>=Tm){var l=t?null:vi(e);if(l)return ye(l);a=!1,o=st,c=new at}else c=t?[]:s;e:for(;++n<i;){var f=e[n],p=t?t(f):f;if(f=r||f!==0?f:0,a&&p===p){for(var d=c.length;d--;)if(c[d]===p)continue e;t&&c.push(p),s.push(f)}else o(c,p,r)||(c!==s&&c.push(p),s.push(f))}return s}var xi=Cm;function Am(e,t){return e&&e.length?xi(e,mi(t,2)):[]}var wi=Am;var $m={threshold:.5,useExtendedSearch:!0,keys:["name","author","description"]},Om=(e,t)=>!t||t===""?e:new W(e,$m).search(t).map(r=>r.item),St=(e,t,r)=>Om(wi(e??[],n=>n.url),t).filter(n=>r==="0"||r==="1"&&!n.compat||r==="2"&&n.compat);var Si=u(m()),Tt=e=>(0,Si.createComponent)(shelter.ui.TextBox,{get value(){return e.query},get onInput(){return e.onChange},placeholder:"Search themes..."});var hr=u(m()),Ti=u(m()),Ci=u(m()),dr=u(m()),Ct=u(m()),Im=(0,hr.template)("<select></select>",2),Em=(0,hr.template)("<option></option>",2),Mm=e=>(()=>{let t=Im.cloneNode(!0);return t.addEventListener("change",r=>e.onChange(r.target.value)),(0,dr.insert)(t,()=>e.options.map(r=>(()=>{let n=Em.cloneNode(!0);return(0,dr.insert)(n,()=>r.label),(0,Ct.effect)(()=>n.value=r.value),n})())),(0,Ct.effect)(r=>{let n=e.isDisabled,o=e.class;return n!==r._v$&&(t.disabled=r._v$=n),o!==r._v$2&&(0,Ci.className)(t,r._v$2=o),r},{_v$:void 0,_v$2:void 0}),(0,Ct.effect)(()=>t.value=e.value),t})(),At=e=>(0,Ti.createComponent)(Mm,{options:[{value:0,label:"Show All"},{value:1,label:"CC Only"},{value:2,label:"BD Only"}],get value(){return e.filterMode},get onChange(){return e.setFilterMode},isDisabled:!1,class:"ysink_stain_dropdown"});var Ai=u(m()),$t=u(m()),we=u(m()),Pm=(0,Ai.template)('<div class="ysink_stain_nosplash"></div>',2),{Header:km,HeaderTags:jm,Text:Rm,Button:Nm,ButtonColors:Lm,ButtonSizes:Dm}=shelter.ui,$i=e=>(()=>{let t=Pm.cloneNode(!0);return(0,$t.insert)(t,(0,we.createComponent)(km,{get tag(){return jm.H2},get children(){return e.title}}),null),(0,$t.insert)(t,(0,we.createComponent)(Rm,{get children(){return e.subtitle}}),null),(0,$t.insert)(t,(0,we.createComponent)(Nm,{class:"ysink_stain_button",get color(){return Lm.GREEN},get size(){return Dm.LARGE},get onClick(){return e.onClick},get children(){return e.btnText}}),null),t})(),Oi=e=>(0,we.createComponent)($i,{title:"No Repos",subtitle:"Add one in the repo manager!",get onClick(){return e.goToRepos},btnText:"Open repo manager"}),Ii=e=>(0,we.createComponent)($i,{title:"No Themes",subtitle:"Paste a link in above, or head over to the store",get onClick(){return e.goToStore},btnText:"Get some themes"});var Fm=(0,_r.template)('<div class="ysink_stain_search_row"></div>',2),zm=(0,_r.template)('<div class="ysink_stain_cardcontainer"></div>',2),{solid:{createSignal:Ei},plugin:{store:Mi}}=shelter,ki=e=>{let[t,r]=Ei(""),[n,o]=Ei("0");return[(0,Se.createComponent)(vn,{}),(()=>{let i=Fm.cloneNode(!0);return(0,Ot.insert)(i,(0,Se.createComponent)(Tt,{get query(){return t()},onChange:r}),null),(0,Ot.insert)(i,(0,Se.createComponent)(At,{get filterMode(){return n()},setFilterMode:o}),null),i})(),(0,gr.memo)((()=>{let i=(0,gr.memo)(()=>Mi.themes.length===0);return()=>i()?(0,Se.createComponent)(Ii,{goToStore:()=>e.goTo(1)}):(()=>{let a=zm.cloneNode(!0);return(0,Ot.insert)(a,()=>St(Mi.themes,t(),n()).map(s=>(0,Se.createComponent)(Je,(0,Pi.mergeProps)(()=>({key:s.url,theme:s}))))),a})()})())]};var fa=u(m()),ua=u(m()),ma=u(m()),vw=u(m());var ra=u(m()),na=u(m()),oa=u(m()),le=u(Ri());function Bm(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ni(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ni(Object(r),!0).forEach(function(n){Bm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ni(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hm(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,i;for(i=0;i<n.length;i++)o=n[i],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function Di(e,t){if(e==null)return{};var r=Hm(e,t),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fi(e,t){return Gm(e)||Um(e,t)||Wm(e,t)||Km()}function Gm(e){if(Array.isArray(e))return e}function Um(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,o=!1,i=void 0;try{for(var a=e[Symbol.iterator](),s;!(n=(s=a.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(c){o=!0,i=c}finally{try{!n&&a.return!=null&&a.return()}finally{if(o)throw i}}return r}}function Wm(e,t){if(e){if(typeof e=="string")return Li(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Li(e,t)}}function Li(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Km(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qm(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Bi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zi(Object(r),!0).forEach(function(n){qm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ym(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return t.reduceRight(function(o,i){return i(o)},n)}}function ke(e){return function t(){for(var r=this,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return t.apply(r,[].concat(o,s))}}}function Et(e){return{}.toString.call(e).includes("Object")}function Jm(e){return!Object.keys(e).length}function je(e){return typeof e=="function"}function Vm(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Xm(e,t){return Et(t)||re("changeType"),Object.keys(t).some(function(r){return!Vm(e,r)})&&re("changeField"),t}function Qm(e){je(e)||re("selectorType")}function Zm(e){je(e)||Et(e)||re("handlerType"),Et(e)&&Object.values(e).some(function(t){return!je(t)})&&re("handlersType")}function ep(e){e||re("initialIsRequired"),Et(e)||re("initialType"),Jm(e)&&re("initialContent")}function tp(e,t){throw new Error(e[t]||e.default)}var rp={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},re=ke(tp)(rp),It={changes:Xm,selector:Qm,handler:Zm,initial:ep};function np(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};It.initial(e),It.handler(t);var r={current:e},n=ke(ap)(r,t),o=ke(ip)(r),i=ke(It.changes)(e),a=ke(op)(r);function s(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(f){return f};return It.selector(l),l(r.current)}function c(l){Ym(n,o,i,a)(l)}return[s,c]}function op(e,t){return je(t)?t(e.current):t}function ip(e,t){return e.current=Bi(Bi({},e.current),t),t}function ap(e,t,r){return je(t)?t(e.current):Object.keys(r).forEach(function(n){var o;return(o=t[n])===null||o===void 0?void 0:o.call(t,e.current[n])}),r}var sp={create:np},Hi=sp;var cp={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.33.0/min/vs"}},Gi=cp;function lp(e){return function t(){for(var r=this,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return t.apply(r,[].concat(o,s))}}}var Ui=lp;function fp(e){return{}.toString.call(e).includes("Object")}var Wi=fp;function up(e){return e||Ki("configIsRequired"),Wi(e)||Ki("configType"),e.urls?(mp(),{paths:{vs:e.urls.monacoBase}}):e}function mp(){console.warn(qi.deprecation)}function pp(e,t){throw new Error(e[t]||e.default)}var qi={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Ki=Ui(pp)(qi),dp={config:up},Yi=dp;var hp=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(o){return r.reduceRight(function(i,a){return a(i)},o)}},Ji=hp;function Vi(e,t){return Object.keys(t).forEach(function(r){t[r]instanceof Object&&e[r]&&Object.assign(t[r],Vi(e[r],t[r]))}),yr(yr({},e),t)}var Xi=Vi;var gp={type:"cancelation",msg:"operation is manually canceled"};function _p(e){var t=!1,r=new Promise(function(n,o){e.then(function(i){return t?o(gp):n(i)}),e.catch(o)});return r.cancel=function(){return t=!0},r}var Mt=_p;var yp=Hi.create({config:Gi,isInitialized:!1,resolve:null,reject:null,monaco:null}),Qi=Fi(yp,2),Re=Qi[0],Pt=Qi[1];function bp(e){var t=Yi.config(e),r=t.monaco,n=Di(t,["monaco"]);Pt(function(o){return{config:Xi(o.config,n),monaco:r}})}function vp(){var e=Re(function(t){var r=t.monaco,n=t.isInitialized,o=t.resolve;return{monaco:r,isInitialized:n,resolve:o}});if(!e.isInitialized){if(Pt({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),Mt(br);if(window.monaco&&window.monaco.editor)return Zi(window.monaco),e.resolve(window.monaco),Mt(br);Ji(xp,Sp)(Tp)}return Mt(br)}function xp(e){return document.body.appendChild(e)}function wp(e){var t=document.createElement("script");return e&&(t.src=e),t}function Sp(e){var t=Re(function(n){var o=n.config,i=n.reject;return{config:o,reject:i}}),r=wp("".concat(t.config.paths.vs,"/loader.js"));return r.onload=function(){return e()},r.onerror=t.reject,r}function Tp(){var e=Re(function(r){var n=r.config,o=r.resolve,i=r.reject;return{config:n,resolve:o,reject:i}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(r){Zi(r),e.resolve(r)},function(r){e.reject(r)})}function Zi(e){Re().monaco||Pt({monaco:e})}function Cp(){return Re(function(e){var t=e.monaco;return t})}var br=new Promise(function(e,t){return Pt({resolve:e,reject:t})}),Ap={config:bp,init:vp,__getMonacoInstance:Cp},kt=Ap;var Te,vr,ea=new Set;async function xr(e){if(!e||!e.trim()||ea.has(e))return;ea.add(e);let t=`https://cdn.esm.sh/monaco-themes@0.4.2/themes/${e}.json`,r=await fetch(t).then(n=>n.json());Te.editor.defineTheme(e,r)}async function ta(e){Te||(e&&kt.config({monaco:e}),vr||(vr=kt.init().then(t=>{Te=t})),await vr)}var $p=(0,ra.template)("<div></div>",2),ia=e=>{let t,r=!1,n=async o=>{if(await ta(e.noCDN),await xr(e.theme),r)return;let i=Te.editor.create(o,{language:e.lang,value:e.value,readOnly:e.readonly??!1,theme:e.theme,...e.otherCfg});t=()=>i.dispose(),i.onDidChangeModelContent(()=>{e.valOut?.(i.getValue())}),(0,le.createEffect)(()=>i.updateOptions({readOnly:e.readonly})),(0,le.createEffect)(()=>{e.value!==i.getValue()&&i.setValue(e.value)}),(0,le.createEffect)(async()=>{await xr(e.theme),i.updateOptions({theme:e.theme})}),(0,le.createEffect)(()=>{let a=i.getModel();a&&(Te.editor.setModelLanguage(a,e.lang),i.setModel(a))})};return(0,le.onCleanup)(()=>{r=!0,t?.()}),(()=>{let o=$p.cloneNode(!0);return(0,oa.use)(n,o),(0,na.effect)(i=>{let a=e.width??"30rem",s=e.height??"10rem";return a!==i._v$&&o.style.setProperty("width",i._v$=a),s!==i._v$2&&o.style.setProperty("height",i._v$2=s),i},{_v$:void 0,_v$2:void 0}),o})()};var Op=function(){return S.Date.now()},jt=Op;var Ip=/\s/;function Ep(e){for(var t=e.length;t--&&Ip.test(e.charAt(t)););return t}var aa=Ep;var Mp=/^\s+/;function Pp(e){return e&&e.slice(0,aa(e)+1).replace(Mp,"")}var sa=Pp;var ca=0/0,kp=/^[-+]0x[0-9a-f]+$/i,jp=/^0b[01]+$/i,Rp=/^0o[0-7]+$/i,Np=parseInt;function Lp(e){if(typeof e=="number")return e;if(ee(e))return ca;if(N(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=N(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=sa(e);var r=jp.test(e);return r||Rp.test(e)?Np(e.slice(2),r?2:8):kp.test(e)?ca:+e}var wr=Lp;var Dp="Expected a function",Fp=Math.max,zp=Math.min;function Bp(e,t,r){var n,o,i,a,s,c,l=0,f=!1,p=!1,d=!0;if(typeof e!="function")throw new TypeError(Dp);t=wr(t)||0,N(r)&&(f=!!r.leading,p="maxWait"in r,i=p?Fp(wr(r.maxWait)||0,t):i,d="trailing"in r?!!r.trailing:d);function g(v){var w=n,$=o;return n=o=void 0,l=v,a=e.apply($,w),a}function _(v){return l=v,s=setTimeout(x,t),f?g(v):a}function y(v){var w=v-c,$=v-l,k=t-w;return p?zp(k,i-$):k}function T(v){var w=v-c,$=v-l;return c===void 0||w>=t||w<0||p&&$>=i}function x(){var v=jt();if(T(v))return A(v);s=setTimeout(x,y(v))}function A(v){return s=void 0,d&&n?g(v):(n=o=void 0,a)}function I(){s!==void 0&&clearTimeout(s),l=0,n=c=o=s=void 0}function P(){return s===void 0?a:A(jt())}function D(){var v=jt(),w=T(v);if(n=arguments,o=this,c=v,w){if(s===void 0)return _(c);if(p)return clearTimeout(s),s=setTimeout(x,t),g(c)}return s===void 0&&(s=setTimeout(x,t)),a}return D.cancel=I,D.flush=P,D}var la=Bp;var Hp=(0,fa.template)("<div></div>",2),Gp=la(e=>pa.quickCSS=e,250),{solid:{createSignal:Up},plugin:{store:pa}}=shelter,da=()=>{let[e,t]=Up(pa.quickCSS);return(()=>{let r=Hp.cloneNode(!0);return r.style.setProperty("maxWidth","60vw"),r.style.setProperty("height","40rem"),r.style.setProperty("resize","vertical"),r.style.setProperty("overflow","hidden"),r.style.setProperty("paddingBottom",".5rem"),(0,ua.insert)(r,(0,ma.createComponent)(ia,{get value(){return e()??" "},valOut:n=>{t(n),Gp(n)},lang:"css",theme:"Dracula",width:"100%",height:"100%",otherCfg:{automaticLayout:!0}})),r})()};var xa=u(m()),Le=u(m()),De=u(m());var ga=u(m()),Rt=u(m()),Ne=u(m()),_a=u(m());var Wp=(0,ga.template)('<div class="ysink_stain_card ysink_stain_row"><div><div class="ysink_stain_title"></div></div></div>',6),{solid:{createResource:Kp},ui:{Text:qp,Button:Yp,ButtonColors:Jp},plugin:{store:ha}}=shelter,ya=e=>{let[t]=Kp(()=>e.repo,Y);return(()=>{let r=Wp.cloneNode(!0),n=r.firstChild,o=n.firstChild;return(0,Ne.insert)(o,()=>t()?.manifest.meta.name,null),(0,Ne.insert)(o,(()=>{let i=(0,_a.memo)(()=>!!Dt.includes(e.repo));return()=>i()&&(0,Rt.createComponent)(Qr,{class:"ysink_stain_officialbadge",text:"official",color:"var(--info-positive-foreground)"})})(),null),(0,Ne.insert)(n,(0,Rt.createComponent)(qp,{get children(){return e.repo}}),null),(0,Ne.insert)(r,(0,Rt.createComponent)(Yp,{get color(){return Jp.RED},class:"ysink_stain_button",grow:!0,onClick:()=>ha.repos=ha.repos.filter(i=>i!==e.repo),children:"Remove Repo"}),null),r})()};var{plugin:{store:Sr}}=shelter;async function Vp(e){try{return await Y(e),!0}catch{return!1}}async function ba(e,t,r){return e.endsWith("/")||(e+="/"),Sr.repos.includes(e)?(r("You already have this repo!"),!1):await Vp(e)?(Sr.repos=[...Sr.repos,e],t("Added repo"),!0):(r("Repo was invalid"),!1)}var Xp=(0,xa.template)('<div><div class="ysink_stain_row"></div><div class="ysink_stain_cardcontainer"></div></div>',6),{showToast:Qp,TextBox:Zp}=shelter.ui,va=e=>Qp({title:e,duration:5e3}),{solid:{createSignal:ed},plugin:{store:td},ui:{Button:rd,Divider:nd,ButtonSizes:od}}=shelter,wa=()=>{let[e,t]=ed("");return(()=>{let r=Xp.cloneNode(!0),n=r.firstChild,o=n.nextSibling;return n.style.setProperty("display","flex"),(0,Le.insert)(n,(0,De.createComponent)(Zp,{get value(){return e()},onInput:t,placeholder:"https://example.com/repo"}),null),(0,Le.insert)(n,(0,De.createComponent)(rd,{class:"ysink_stain_button",get size(){return od.MEDIUM},onClick:async()=>{await ba(e(),va,va)&&t("")},children:"Add"}),null),(0,Le.insert)(r,(0,De.createComponent)(nd,{mt:".5rem",mb:".5rem"}),o),(0,Le.insert)(o,()=>td.repos.map(i=>(0,De.createComponent)(ya,{repo:i}))),r})()};var Ea=u(m()),Tr=u(m()),Cr=u(m()),Ce=u(m());var Sa=u(m()),Ta=u(m()),Ca=u(m()),Aa=u(m()),$a=u(m()),id=(0,Sa.template)("<div><div></div></div>",4),{For:ad}=window.shelter.solid,Oa=e=>(()=>{let t=id.cloneNode(!0),r=t.firstChild;return t.style.setProperty("overflow-y","auto"),r.style.setProperty("width","100%"),r.style.setProperty("position","relative"),(0,Aa.insert)(r,(0,$a.createComponent)(ad,{get each(){return e.items},children:n=>e.children(n)})),(0,Ca.effect)(n=>{let o=e.height,i=e.class;return o!==n._v$&&t.style.setProperty("height",n._v$=o),i!==n._v$2&&(0,Ta.className)(t,n._v$2=i),n},{_v$:void 0,_v$2:void 0}),t})();var sd=(0,Ea.template)('<div class="ysink_stain_search_row"></div>',2),{solid:{createSignal:Ia,createResource:cd},plugin:{store:Ar},ui:{niceScrollbarsClass:ld}}=shelter,fd=()=>Promise.all(Ar.repos.map(Y)),ud=()=>fd().then(e=>e.flatMap(t=>t.themes)),Ma=e=>{let[t,r]=Ia(""),[n,o]=Ia("0"),[i]=cd(()=>Ar.repos,ud);return[(()=>{let a=sd.cloneNode(!0);return(0,Cr.insert)(a,(0,Ce.createComponent)(Tt,{get query(){return t()},onChange:r}),null),(0,Cr.insert)(a,(0,Ce.createComponent)(At,{get filterMode(){return n()},setFilterMode:o}),null),a})(),(0,Tr.memo)((()=>{let a=(0,Tr.memo)(()=>Ar.repos.length===0);return()=>a()?(0,Ce.createComponent)(Oi,{goToRepos:()=>e.goTo(2)}):(0,Ce.createComponent)(Oa,{get class(){return ld()},height:"50rem",keySel:s=>s.url,get items(){return St(i(),t(),n())},children:s=>(0,Ce.createComponent)(Je,{theme:s,gap:".5rem"})})})())]};var $r=u(m());var{Button:md,Text:pd}=shelter.ui,Pa=()=>[(0,$r.createComponent)(md,{class:"ysink_stain_button",grow:!0,onClick:Nr,children:"Clear fetch cache"}),(0,$r.createComponent)(pd,{children:"@ me if you need other things for debug purposes :)"})];var Or=u(m()),ka=u(m()),ja=u(m()),Ra=u(m()),Nt=u(m()),Fe=u(m()),dd=(0,Or.template)('<div class="ysink_stain_tabbar_root"><div class="ysink_stain_tabbar"></div><div class="ysink_stain_tabbar_content"></div></div>',6),hd=(0,Or.template)("<button></button>",2),{solid:{createSignal:gd},solidWeb:{Dynamic:_d},ui:{Text:yd,Divider:bd}}=shelter,Na=e=>{let[t,r]=gd(0);return(()=>{let n=dd.cloneNode(!0),o=n.firstChild,i=o.nextSibling;return(0,Fe.insert)(o,()=>e.items.map((a,s)=>(()=>{let c=hd.cloneNode(!0);return c.$$click=()=>r(s),(0,Fe.insert)(c,(0,Nt.createComponent)(yd,{get children(){return a.text}})),(0,Ra.effect)(()=>(0,ja.className)(c,"ysink_stain_button"+(s===t()?" ysink_stain_selected":""))),c})())),(0,Fe.insert)(n,(0,Nt.createComponent)(bd,{mt:".5rem",mb:".5rem"}),i),(0,Fe.insert)(i,(0,Nt.createComponent)(_d,{get component(){return e.items[t()].component},goTo:r})),n})()};(0,ka.delegateEvents)(["click"]);var vd=(0,La.template)("<div></div>",2),{Header:xd,HeaderTags:wd}=shelter.ui,Da=()=>(()=>{let e=vd.cloneNode(!0);return(0,Ir.insert)(e,(0,Er.createComponent)(xd,{get tag(){return wd.H1},children:"Snazzy Shelter Settings"}),null),(0,Ir.insert)(e,(0,Er.createComponent)(Na,{items:[{text:"Installed",component:ki},{text:"Store",component:Ma},{text:"Repos",component:wa},{text:"Quick CSS",component:da},{text:"Debug",component:Pa}]}),null),e})();var Fa=()=>shelter.settings.registerSection("section","shsnazzy","Themes",Da);var za=`
.ysink_stain_card{background:var(--background-secondary-alt);padding:1rem;border:1px solid var(--background-modifier-accent);border-radius:.5rem;width:100% !important;color:var(--text-normal)}.ysink_stain_title{display:flex;align-items:center;font-size:1rem;color:var(--interactive-active)}.ysink_stain_cardcontainer>*{margin-bottom:.5rem}.ysink_stain_row{display:flex;gap:1rem}.ysink_stain_row>:not(:last-child){flex:1}.ysink_stain_tabbar{padding:.5rem 1rem;display:grid;grid-auto-flow:column;grid-auto-columns:7rem}.ysink_stain_tabbar .ysink_stain_button *{cursor:pointer}.ysink_stain_tabbar>*{margin-right:1rem;padding:.2rem;border-radius:.3rem;min-width:5rem;text-align:center;background:none}.theme-dark .ysink_stain_tabbar>*.ysink_stain_selected{background:rgba(255,255,255,.2666666667)}.theme-light .ysink_stain_tabbar>*.ysink_stain_selected{background:rgba(0,0,0,.2)}.ysink_stain_tabbar>*:last-child{margin-right:0}.ysink_stain_searchbar{margin:.75rem 0}.ysink_stain_search_row{display:flex;gap:.75rem;margin:.75rem 0}.ysink_stain_search_row .ysink_stain_dropdown{height:2.25rem;flex-basis:10rem;background:var(--input-background);color:#fff;border:none;border-radius:3px}.ysink_stain_search_row .ysink_stain_searchbar{margin:unset;flex:1}.ysink_stain_tcard{display:grid;grid-template-columns:auto 1fr min-content;grid-template-rows:auto 1fr;align-items:center}.ysink_stain_tcard .ysink_stain_tmedia{grid-row:1/3;height:4rem;width:7rem;margin-right:1rem;background-size:cover}.ysink_stain_tcard .ysink_stain_tmedia *{display:flex;justify-content:center;align-items:center;height:100%}.ysink_stain_tcard .ysink_stain_tmedia .ysink_stain_tview{z-index:1;transition:opacity 250ms ease;backdrop-filter:brightness(0.3);cursor:pointer}.ysink_stain_tcard .ysink_stain_tmedia .ysink_stain_tview:not(:hover){opacity:0}.ysink_stain_tcard .ysink_stain_tdesc{grid-area:2/2}.ysink_stain_tcard .ysink_stain_tacts{grid-column:3;justify-self:right}.ysink_stain_tcard .ysink_stain_tacts>:last-child{margin-left:.25rem}.ysink_stain_tcard .ysink_stain_tacts>*{display:inline-block}.ysink_stain_tcard .ysink_stain_taulic{text-align:right;min-width:8rem}.ysink_stain_iconbtn{margin-right:.25rem;fill:var(--interactive-normal);cursor:pointer;height:22px;width:22px}.ysink_stain_badge{width:1.5rem;height:1.5rem;margin-right:.5rem;border-radius:50%}.ysink_stain_badge.ysink_stain_bd{padding:.25rem;background:#040405}.ysink_stain_badge.ysink_stain_cc{padding:.1rem;background:#7289da}.ysink_stain_nosplash{display:flex;flex-direction:column;align-items:center;margin-top:15rem;gap:.5rem}.ysink_stain_nosplash h2{margin-bottom:0}.ysink_stain_nosplash>*{flex:0}.ysink_stain_nosplash .ysink_stain_button{margin-top:2rem}.ysink_stain_officialbadge{display:inline;margin-left:.5rem}.ysink_stain_button{color:#fff !important}#shsnazzy-tab{padding-bottom:0}`;function Sd(e,t){for(var r=e==null?0:e.length;r--&&t(e[r],r,e)!==!1;);return e}var Ba=Sd;function Td(e){return function(t,r,n){for(var o=-1,i=Object(t),a=n(t),s=a.length;s--;){var c=a[e?s:++o];if(r(i[c],c,i)===!1)break}return t}}var Ha=Td;var Cd=Ha(!0),Ga=Cd;function Ad(e,t){return e&&Ga(e,t,ve)}var Ua=Ad;function $d(e,t){return function(r,n){if(r==null)return r;if(!mt(r))return e(r,n);for(var o=r.length,i=t?o:-1,a=Object(r);(t?i--:++i<o)&&n(a[i],i,a)!==!1;);return r}}var Wa=$d;var Od=Wa(Ua,!0),Ka=Od;function Id(e){return typeof e=="function"?e:wt}var qa=Id;function Ed(e,t){var r=C(e)?Ba:Ka;return r(e,qa(t))}var Ya=Ed;var{plugin:{store:ne},ui:{injectCss:Md}}=shelter;Array.isArray(ne.repos)||Lr();Array.isArray(ne.themes)||(ne.themes=[]);ne.css&&(ne.quickCSS||(ne.quickCSS=ne.css),delete ne.css);var Pd=[Fr(),Gr(),Ur(),Fa(),Md(za)],kd=()=>Ya(Pd,e=>e());return ts(jd);})();
