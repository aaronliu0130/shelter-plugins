(()=>{var Vi=Object.create;var ze=Object.defineProperty;var Ji=Object.getOwnPropertyDescriptor;var Xi=Object.getOwnPropertyNames;var Qi=Object.getPrototypeOf,Zi=Object.prototype.hasOwnProperty;var Nr=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),es=(e,t)=>{for(var r in t)ze(e,r,{get:t[r],enumerable:!0})},Lr=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Xi(t))!Zi.call(e,n)&&n!==r&&ze(e,n,{get:()=>t[n],enumerable:!(o=Ji(t,n))||o.enumerable});return e};var c=(e,t,r)=>(r=e!=null?Vi(Qi(e)):{},Lr(t||!e||!e.__esModule?ze(r,"default",{value:e,enumerable:!0}):r,e)),ts=e=>Lr(ze({},"__esModule",{value:!0}),e);var m=Nr((Zd,Yr)=>{Yr.exports=shelter.solidWeb});var qa=Nr((dw,Ka)=>{Ka.exports=shelter.solid});var Rd={};es(Rd,{onUnload:()=>kd});var rs=/[^\S\r\n]*?\r?\n[^\S\r\n]*?\*[^\S\r\n]?/,os=/^\\@/;function ns(e){try{return JSON.parse(e)}catch{}}function as(e){let t=e.split(`
`)[0],r=t.substring(t.lastIndexOf("//META")+6,t.lastIndexOf("*//")),o=ns(r);if(!o)throw new Error("META could not be parsed.");if(!o.name)throw new Error("META missing name data.");return o}function is(e){let t=e.split("/**",2)[1].split("*/",1)[0],r={},o="",n="";for(let a of t.split(rs))if(a.length!==0)if(a.charAt(0)==="@"&&a.charAt(1)!==" "){o!==""&&(r[o]=n);let i=a.indexOf(" ");o=a.substr(1,i-1),n=a.substr(i+1)}else n+=` ${a.replace("\\n",`
`).replace(os,"@")}`;return r[o]=n.trim(),r}var Dr=e=>{let t=e.split(`
`)[0];if(t.includes("//META"))return as(e);if(t.includes("/**"))return is(e);throw new Error("META was not found.")};var ce={},ne={};async function We(e){return ce[e]||(ne[e]||(ne[e]=[fetch(e).then(async t=>{ce[e]=[t.status,t.status===200?await t.text():void 0]}),0]),ne[e][1]++,await ne[e][0],ne[e][1]--,ne[e][1]===0&&delete ne[e]),ce[e]}async function He(e){let[t,r]=await We(e);return[t,r?JSON.parse(r):void 0]}var Br=()=>Object.keys(ce).forEach(e=>delete ce[e]);async function ss(e,t){let r=new URL(e,t).href,[o,n]=await We(r);if(o!==200)throw new Error(`BD theme existed in cache with non-200 status ${o}`);return{url:r,CSS:()=>Promise.resolve(n),compat:!0,repoUrl:t,...Dr(n)}}async function fs(e,t){let r=new URL(e,t).href,o=new URL(e,t).pathname.split("/");o.splice(o.length-1,1,"cumcord_theme.json");let n=new URL(o.join("/"),new URL(e,t).origin).href,[a,i]=await He(n);if(a!==200)throw new Error(`CC manifest existed in cache with non-200 status ${a}`);return{url:r,compat:!1,...i,repoUrl:t,CSS:async()=>{let[s,f]=await We(r);if(s!==200)throw new Error(`CC CSS existed in cache with non-200 status ${s}`);return f}}}var H=async(e,t)=>{try{return await fs(e,t)}catch(r){try{return await ss(e,t)}catch(o){console.error(r,o);let n=new Error("Failed to fetch theme - both CC and BD either failed to fetch or failed to parse");throw n.e1=r,n.e2=o,n}}};async function ls(e){let t=new URL("repo.json",e).href,[r,o]=await He(t);if(r!==200)throw new Error(`Repo manifest existed in cache with non-200 status ${r}`);if(!o.themes||o.themes?.length===0)throw new Error("No themes found in repo");if(!o.meta)throw new Error("No repo metadata");if(!o?.meta.name)throw new Error("Repo did not have a name");return o}var Y=async e=>{let t=await ls(e),o=(await Promise.allSettled(t.themes.map(n=>H(n,e)))).filter(n=>n.status==="rejected"?(console.error("snazzy-shelter: loading theme failed: ",n.reason),!1):!0).map(n=>n.value);return{manifest:t,themes:o}};var{plugin:{store:Ce}}=shelter,Dt=Object.freeze(["https://cumcordthemes.github.io/Cumsock/"]),Fr=async()=>{Array.isArray(Ce.repos)||(Ce.repos=[]);for(let e of Dt)if(!Ce.repos.find(t=>t.url===e.url)){try{await Y(e)}catch{continue}Ce.repos=[...Ce.repos,e]}};var{solid:{createEffect:us},plugin:{store:zr},ui:{injectCss:cs}}=shelter,Wr=()=>{let e=cs(zr.quickCSS||" "),t;return us(()=>{t||e(zr.quickCSS||" ")}),()=>{e(),t=!0}};var{ui:{injectCss:ms},plugin:{store:B}}=shelter,Oe=new Map;async function ae(e){if(!e?.url||!await e.CSS())throw new Error("theme was missing either id or css.");let t=ms(await e.CSS());Oe.set(e.url,t);let r=B.themes.findIndex(n=>n.url===e.url),o={...e};delete o.CSS,o.enabled=!0,r===-1?B.themes=[...B.themes,o]:B.themes[r]=o}function Bt(e){if(!e?.url)throw new Error("theme was missing id.");Oe.get(e.url)?.(),Oe.delete(e.url);let r=B.themes.findIndex(n=>n.url===e.url),o={...e};o.enabled=!1,r===-1?B.themes=[...B.themes,o]:B.themes[r]=o}function Hr(e){try{Bt(e)}catch(t){if(t.message!=="theme was not loaded.")throw t}B.themes=B.themes.filter(t=>t.url!==e.url)}function Ur(){Oe.forEach(e=>e?.()),Oe.clear()}var{plugin:{store:Gr}}=shelter,Kr=()=>{let e=!1;return Gr.themes&&Gr.themes.filter(t=>t.enabled).forEach(t=>H(t.url,t.repoUrl).then(r=>e||ae(r))),()=>{Ur(),e=!0}};var qr=()=>(window.snazzyShelter=Object.freeze({TODO:"WIP"}),()=>delete window.snazzyShelter);var Gi=c(m()),Pr=c(m()),kr=c(m());var vr=c(m()),Ua=c(m()),br=c(m()),$t=c(m()),Se=c(m());var Ye=c(m()),yo=c(m()),_o=c(m()),me=c(m()),F=c(m()),qe=c(m());var Ft=c(m()),Vr=c(m()),Jr=c(m()),zt=c(m()),Xr=c(m()),ps=(0,Ft.template)("<img>",1),ds=(0,Ft.template)("<div></div>",2),Qr=(e,t)=>()=>(()=>{let r=ps.cloneNode(!0);return(0,Xr.setAttribute)(r,"src",e),(0,zt.className)(r,`ysink_stain_badge ysink_stain_${t}`),r})(),Zr=Qr("https://betterdiscord.app/resources/branding/logo_small.svg","bd"),eo=Qr("https://raw.githubusercontent.com/Cumcord/assets/main/logo/filled.svg","cc"),to=e=>(()=>{let t=ds.cloneNode(!0);return t.style.setProperty("border-radius","9999px"),t.style.setProperty("color","white"),t.style.setProperty("font-size",".8rem"),t.style.setProperty("padding",".1rem .3rem"),t.style.setProperty("text-transform","uppercase"),t.style.setProperty("font-weight","bold"),(0,Jr.insert)(t,()=>e.text),(0,Vr.effect)(r=>{let o=e.class,n=e.color;return o!==r._v$&&(0,zt.className)(t,r._v$=o),n!==r._v$2&&t.style.setProperty("background-color",r._v$2=n),r},{_v$:void 0,_v$2:void 0}),t})();var ao=c(m()),io=c(m()),Ie=c(m());var Ke=c(m()),Ue=c(m()),Ge=c(m()),oo=c(m()),hs=(0,Ke.template)("<div>WIP</div>",2),gs=(0,Ke.template)('<div class="ysink_stain_carousel"></div>',2),xs=(0,Ke.template)('<div class="ysink_stain_noimg"></div>',2),{Text:ys}=shelter.ui,ro=e=>hs.cloneNode(!0),no=e=>(()=>{let t=gs.cloneNode(!0);return(0,Ge.insert)(t,(()=>{let r=(0,oo.memo)(()=>!!e.media);return()=>r()?(0,Ue.createComponent)(ro,{get items(){return(typeof e.media=="string"?[e.media]:e.media).map(o=>({type:1,src:o}))},autoplayInterval:5e3}):(()=>{let o=xs.cloneNode(!0);return(0,Ge.insert)(o,(0,Ue.createComponent)(ys,{class:"ysink_stain_noimgtxt",children:"No Image"}),null),(0,Ge.insert)(o,(0,Ue.createComponent)(ro,{items:[{type:1,src:""}]}),null),o})()})()),t})();var _s=(0,ao.template)("<div></div>",2),{openModal:bs,ModalRoot:vs,ModalHeader:ws,ModalBody:Ss,ModalSizes:Ts}=shelter.ui,so=e=>bs(({close:t})=>(0,Ie.createComponent)(vs,{get size(){return Ts.MEDIUM},get children(){return[(0,Ie.createComponent)(ws,{close:t}),(0,Ie.createComponent)(Ss,{get children(){let r=_s.cloneNode(!0);return r.style.setProperty("margin-bottom","1rem"),(0,io.insert)(r,(0,Ie.createComponent)(no,{media:e})),r}})]}}));var fo=c(m()),lo=c(m()),uo=c(m()),As=(0,fo.template)('<svg><path d="M 3.9999998,21.333333 C 3.9999998,22.8 5.1999998,24 6.6666665,24 H 17.333334 C 18.799999,24 20,22.8 20,21.333333 V 5.3333333 H 3.9999998 Z M 7.2799998,11.84 9.1599995,9.96 12,12.786667 14.826667,9.96 l 1.879999,1.88 -2.826667,2.826667 2.826667,2.826666 -1.879999,1.88 L 12,16.546667 l -2.8266665,2.826666 -1.8800003,-1.88 2.8266658,-2.826666 z M 16.666666,1.3333333 15.333334,0 H 8.6666665 L 7.3333332,1.3333333 H 2.6666665 V 4 H 21.333334 V 1.3333333 Z"></path></svg>',4),co=e=>(()=>{let t=As.cloneNode(!0);return(0,lo.spread)(t,(0,uo.mergeProps)(e,{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px"}),!0,!0),t})();var mo=c(m()),po=c(m()),ho=c(m()),Cs=(0,mo.template)('<svg><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"></path></svg>',4),go=e=>(()=>{let t=Cs.cloneNode(!0);return(0,po.spread)(t,(0,ho.mergeProps)(e,{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px"}),!0,!0),t})();var Os=(0,Ye.template)('<div class="ysink_stain_card ysink_stain_tcard"><div class="ysink_stain_tmedia"></div><div class="ysink_stain_title"></div><div class="ysink_stain_tdesc"></div><div class="ysink_stain_tacts"></div><div class="ysink_stain_taulic"></div></div>',12),Is=(0,Ye.template)('<div class="ysink_stain_tview">VIEW MEDIA</div>',2),$s=(0,Ye.template)("<div>NO MEDIA</div>",2),{ui:{Switch:Es},plugin:{store:bo}}=shelter,Ms=e=>navigator.clipboard.writeText(e);function xo(e){for(let t of bo.themes)if(t.url===e&&t.enabled)return!0;return!1}var Ps=e=>bo.themes.some(t=>t.url===e),Ve=e=>(()=>{let t=Os.cloneNode(!0),r=t.firstChild,o=r.nextSibling,n=o.nextSibling,a=n.nextSibling,i=a.nextSibling;return r.$$click=()=>e.theme.media&&so(e.theme.media),(0,F.insert)(r,(()=>{let s=(0,qe.memo)(()=>!!e.theme.media);return()=>s()?Is.cloneNode(!0):$s.cloneNode(!0)})()),(0,F.insert)(o,(()=>{let s=(0,qe.memo)(()=>!!e.theme.compat);return()=>s()?(0,me.createComponent)(Zr,{}):(0,me.createComponent)(eo,{})})(),null),(0,F.insert)(o,()=>e.theme.name,null),(0,F.insert)(n,()=>e.theme.description),(0,F.insert)(a,(0,me.createComponent)(go,{class:"ysink_stain_iconbtn",onClick:()=>Ms(e.theme.url)}),null),(0,F.insert)(a,(()=>{let s=(0,qe.memo)(()=>!!Ps(e.theme.url));return()=>s()?(0,me.createComponent)(co,{class:"ysink_stain_iconbtn",onClick:()=>{Hr(e.theme)}}):[]})(),null),(0,F.insert)(a,(0,me.createComponent)(Es,{get checked(){return xo(e.theme.url)},onChange:async()=>xo(e.theme.url)?Bt(e.theme):ae(await H(e.theme.url))}),null),(0,F.insert)(i,()=>e.theme.author?`by ${e.theme.author} `:"",null),(0,F.insert)(i,()=>e.theme.license?`under ${e.theme.license}`:"",null),(0,_o.effect)(s=>{let f=e.gap,l=e.theme.media&&`url(${Array.isArray(e.theme.media)?e.theme.media[0]:e.theme.media})`;return f!==s._v$&&t.style.setProperty("margin-bottom",s._v$=f),l!==s._v$2&&r.style.setProperty("background-image",s._v$2=l),s},{_v$:void 0,_v$2:void 0}),t})();(0,yo.delegateEvents)(["click"]);var wo=c(m()),Wt=c(m()),Ht=c(m());var ks=(0,wo.template)('<div class="ysink_stain_row"></div>',2),{ui:{Button:Rs,ButtonSizes:js,showToast:vo,TextBox:Ns},solid:{createSignal:Ls}}=shelter,So=()=>{let[e,t]=Ls("");return(()=>{let r=ks.cloneNode(!0);return(0,Wt.insert)(r,(0,Ht.createComponent)(Ns,{get value(){return e()},onInput:t,placeholder:"Theme import URL"}),null),(0,Wt.insert)(r,(0,Ht.createComponent)(Rs,{class:"ysink_stain_button",get size(){return js.MEDIUM},onClick:()=>{H(e()).then(async o=>{await ae(o),vo({title:`Loaded theme ${o.name}`,duration:5e3}),t("")},()=>vo({title:"Failed to fetch theme - check URL",duration:5e3}))},children:"Install"}),null),r})()};function U(e){return Array.isArray?Array.isArray(e):Mo(e)==="[object Array]"}var Ds=1/0;function Bs(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-Ds?"-0":t}function Fs(e){return e==null?"":Bs(e)}function z(e){return typeof e=="string"}function $o(e){return typeof e=="number"}function zs(e){return e===!0||e===!1||Ws(e)&&Mo(e)=="[object Boolean]"}function Eo(e){return typeof e=="object"}function Ws(e){return Eo(e)&&e!==null}function I(e){return e!=null}function Ut(e){return!e.trim().length}function Mo(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var Hs="Incorrect 'index' type",Us=e=>`Invalid value for key ${e}`,Gs=e=>`Pattern length exceeds max of ${e}.`,Ks=e=>`Missing ${e} property in key`,qs=e=>`Property 'weight' in key '${e}' must be a positive integer`,To=Object.prototype.hasOwnProperty,Gt=class{constructor(t){this._keys=[],this._keyMap={};let r=0;t.forEach(o=>{let n=Po(o);r+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,r+=n.weight}),this._keys.forEach(o=>{o.weight/=r})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}};function Po(e){let t=null,r=null,o=null,n=1,a=null;if(z(e)||U(e))o=e,t=Ao(e),r=Kt(e);else{if(!To.call(e,"name"))throw new Error(Ks("name"));let i=e.name;if(o=i,To.call(e,"weight")&&(n=e.weight,n<=0))throw new Error(qs(i));t=Ao(i),r=Kt(i),a=e.getFn}return{path:t,id:r,weight:n,src:o,getFn:a}}function Ao(e){return U(e)?e:e.split(".")}function Kt(e){return U(e)?e.join("."):e}function Ys(e,t){let r=[],o=!1,n=(a,i,s)=>{if(!!I(a))if(!i[s])r.push(a);else{let f=i[s],l=a[f];if(!I(l))return;if(s===i.length-1&&(z(l)||$o(l)||zs(l)))r.push(Fs(l));else if(U(l)){o=!0;for(let u=0,p=l.length;u<p;u+=1)n(l[u],i,s+1)}else i.length&&n(l,i,s+1)}};return n(e,z(t)?t.split("."):t,0),o?r:r[0]}var Vs={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Js={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},Xs={location:0,threshold:.6,distance:100},Qs={useExtendedSearch:!1,getFn:Ys,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},h={...Js,...Vs,...Xs,...Qs},Zs=/[^ ]+/g;function ef(e=1,t=3){let r=new Map,o=Math.pow(10,t);return{get(n){let a=n.match(Zs).length;if(r.has(a))return r.get(a);let i=1/Math.pow(a,.5*e),s=parseFloat(Math.round(i*o)/o);return r.set(a,s),s},clear(){r.clear()}}}var $e=class{constructor({getFn:t=h.getFn,fieldNormWeight:r=h.fieldNormWeight}={}){this.norm=ef(r,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((r,o)=>{this._keysMap[r.id]=o})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,z(this.docs[0])?this.docs.forEach((t,r)=>{this._addString(t,r)}):this.docs.forEach((t,r)=>{this._addObject(t,r)}),this.norm.clear())}add(t){let r=this.size();z(t)?this._addString(t,r):this._addObject(t,r)}removeAt(t){this.records.splice(t,1);for(let r=t,o=this.size();r<o;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(t,r){return t[this._keysMap[r]]}size(){return this.records.length}_addString(t,r){if(!I(t)||Ut(t))return;let o={v:t,i:r,n:this.norm.get(t)};this.records.push(o)}_addObject(t,r){let o={i:r,$:{}};this.keys.forEach((n,a)=>{let i=n.getFn?n.getFn(t):this.getFn(t,n.path);if(!!I(i)){if(U(i)){let s=[],f=[{nestedArrIndex:-1,value:i}];for(;f.length;){let{nestedArrIndex:l,value:u}=f.pop();if(!!I(u))if(z(u)&&!Ut(u)){let p={v:u,i:l,n:this.norm.get(u)};s.push(p)}else U(u)&&u.forEach((p,d)=>{f.push({nestedArrIndex:d,value:p})})}o.$[a]=s}else if(z(i)&&!Ut(i)){let s={v:i,n:this.norm.get(i)};o.$[a]=s}}}),this.records.push(o)}toJSON(){return{keys:this.keys,records:this.records}}};function ko(e,t,{getFn:r=h.getFn,fieldNormWeight:o=h.fieldNormWeight}={}){let n=new $e({getFn:r,fieldNormWeight:o});return n.setKeys(e.map(Po)),n.setSources(t),n.create(),n}function tf(e,{getFn:t=h.getFn,fieldNormWeight:r=h.fieldNormWeight}={}){let{keys:o,records:n}=e,a=new $e({getFn:t,fieldNormWeight:r});return a.setKeys(o),a.setIndexRecords(n),a}function Je(e,{errors:t=0,currentLocation:r=0,expectedLocation:o=0,distance:n=h.distance,ignoreLocation:a=h.ignoreLocation}={}){let i=t/e.length;if(a)return i;let s=Math.abs(o-r);return n?i+s/n:s?1:i}function rf(e=[],t=h.minMatchCharLength){let r=[],o=-1,n=-1,a=0;for(let i=e.length;a<i;a+=1){let s=e[a];s&&o===-1?o=a:!s&&o!==-1&&(n=a-1,n-o+1>=t&&r.push([o,n]),o=-1)}return e[a-1]&&a-o>=t&&r.push([o,a-1]),r}var ie=32;function of(e,t,r,{location:o=h.location,distance:n=h.distance,threshold:a=h.threshold,findAllMatches:i=h.findAllMatches,minMatchCharLength:s=h.minMatchCharLength,includeMatches:f=h.includeMatches,ignoreLocation:l=h.ignoreLocation}={}){if(t.length>ie)throw new Error(Gs(ie));let u=t.length,p=e.length,d=Math.max(0,Math.min(o,p)),g=a,x=d,y=s>1||f,T=y?Array(p):[],v;for(;(v=e.indexOf(t,x))>-1;){let w=Je(t,{currentLocation:v,expectedLocation:d,distance:n,ignoreLocation:l});if(g=Math.min(w,g),x=v+u,y){let O=0;for(;O<u;)T[v+O]=1,O+=1}}x=-1;let C=[],$=1,P=u+p,D=1<<u-1;for(let w=0;w<u;w+=1){let O=0,k=P;for(;O<k;)Je(t,{errors:w,currentLocation:d+k,expectedLocation:d,distance:n,ignoreLocation:l})<=g?O=k:P=k,k=Math.floor((P-O)/2+O);P=k;let Rr=Math.max(1,d-k+1),Lt=i?p:Math.min(d+k,p)+u,ue=Array(Lt+2);ue[Lt+1]=(1<<w)-1;for(let R=Lt;R>=Rr;R-=1){let Fe=R-1,jr=r[e.charAt(Fe)];if(y&&(T[Fe]=+!!jr),ue[R]=(ue[R+1]<<1|1)&jr,w&&(ue[R]|=(C[R+1]|C[R])<<1|1|C[R+1]),ue[R]&D&&($=Je(t,{errors:w,currentLocation:Fe,expectedLocation:d,distance:n,ignoreLocation:l}),$<=g)){if(g=$,x=Fe,x<=d)break;Rr=Math.max(1,2*d-x)}}if(Je(t,{errors:w+1,currentLocation:d,expectedLocation:d,distance:n,ignoreLocation:l})>g)break;C=ue}let b={isMatch:x>=0,score:Math.max(.001,$)};if(y){let w=rf(T,s);w.length?f&&(b.indices=w):b.isMatch=!1}return b}function nf(e){let t={};for(let r=0,o=e.length;r<o;r+=1){let n=e.charAt(r);t[n]=(t[n]||0)|1<<o-r-1}return t}var Xe=class{constructor(t,{location:r=h.location,threshold:o=h.threshold,distance:n=h.distance,includeMatches:a=h.includeMatches,findAllMatches:i=h.findAllMatches,minMatchCharLength:s=h.minMatchCharLength,isCaseSensitive:f=h.isCaseSensitive,ignoreLocation:l=h.ignoreLocation}={}){if(this.options={location:r,threshold:o,distance:n,includeMatches:a,findAllMatches:i,minMatchCharLength:s,isCaseSensitive:f,ignoreLocation:l},this.pattern=f?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;let u=(d,g)=>{this.chunks.push({pattern:d,alphabet:nf(d),startIndex:g})},p=this.pattern.length;if(p>ie){let d=0,g=p%ie,x=p-g;for(;d<x;)u(this.pattern.substr(d,ie),d),d+=ie;if(g){let y=p-ie;u(this.pattern.substr(y),y)}}else u(this.pattern,0)}searchIn(t){let{isCaseSensitive:r,includeMatches:o}=this.options;if(r||(t=t.toLowerCase()),this.pattern===t){let x={isMatch:!0,score:0};return o&&(x.indices=[[0,t.length-1]]),x}let{location:n,distance:a,threshold:i,findAllMatches:s,minMatchCharLength:f,ignoreLocation:l}=this.options,u=[],p=0,d=!1;this.chunks.forEach(({pattern:x,alphabet:y,startIndex:T})=>{let{isMatch:v,score:C,indices:$}=of(t,x,y,{location:n+T,distance:a,threshold:i,findAllMatches:s,minMatchCharLength:f,includeMatches:o,ignoreLocation:l});v&&(d=!0),p+=C,v&&$&&(u=[...u,...$])});let g={isMatch:d,score:d?p/this.chunks.length:1};return d&&o&&(g.indices=u),g}},W=class{constructor(t){this.pattern=t}static isMultiMatch(t){return Co(t,this.multiRegex)}static isSingleMatch(t){return Co(t,this.singleRegex)}search(){}};function Co(e,t){let r=e.match(t);return r?r[1]:null}var qt=class extends W{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){let r=t===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}},Yt=class extends W{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){let o=t.indexOf(this.pattern)===-1;return{isMatch:o,score:o?0:1,indices:[0,t.length-1]}}},Vt=class extends W{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){let r=t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}},Jt=class extends W{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){let r=!t.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}},Xt=class extends W{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){let r=t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[t.length-this.pattern.length,t.length-1]}}},Qt=class extends W{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){let r=!t.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}},Qe=class extends W{constructor(t,{location:r=h.location,threshold:o=h.threshold,distance:n=h.distance,includeMatches:a=h.includeMatches,findAllMatches:i=h.findAllMatches,minMatchCharLength:s=h.minMatchCharLength,isCaseSensitive:f=h.isCaseSensitive,ignoreLocation:l=h.ignoreLocation}={}){super(t),this._bitapSearch=new Xe(t,{location:r,threshold:o,distance:n,includeMatches:a,findAllMatches:i,minMatchCharLength:s,isCaseSensitive:f,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}},Ze=class extends W{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let r=0,o,n=[],a=this.pattern.length;for(;(o=t.indexOf(this.pattern,r))>-1;)r=o+a,n.push([o,r-1]);let i=!!n.length;return{isMatch:i,score:i?0:1,indices:n}}},Zt=[qt,Ze,Vt,Jt,Qt,Xt,Yt,Qe],Oo=Zt.length,af=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,sf="|";function ff(e,t={}){return e.split(sf).map(r=>{let o=r.trim().split(af).filter(a=>a&&!!a.trim()),n=[];for(let a=0,i=o.length;a<i;a+=1){let s=o[a],f=!1,l=-1;for(;!f&&++l<Oo;){let u=Zt[l],p=u.isMultiMatch(s);p&&(n.push(new u(p,t)),f=!0)}if(!f)for(l=-1;++l<Oo;){let u=Zt[l],p=u.isSingleMatch(s);if(p){n.push(new u(p,t));break}}}return n})}var lf=new Set([Qe.type,Ze.type]),er=class{constructor(t,{isCaseSensitive:r=h.isCaseSensitive,includeMatches:o=h.includeMatches,minMatchCharLength:n=h.minMatchCharLength,ignoreLocation:a=h.ignoreLocation,findAllMatches:i=h.findAllMatches,location:s=h.location,threshold:f=h.threshold,distance:l=h.distance}={}){this.query=null,this.options={isCaseSensitive:r,includeMatches:o,minMatchCharLength:n,findAllMatches:i,ignoreLocation:a,location:s,threshold:f,distance:l},this.pattern=r?t:t.toLowerCase(),this.query=ff(this.pattern,this.options)}static condition(t,r){return r.useExtendedSearch}searchIn(t){let r=this.query;if(!r)return{isMatch:!1,score:1};let{includeMatches:o,isCaseSensitive:n}=this.options;t=n?t:t.toLowerCase();let a=0,i=[],s=0;for(let f=0,l=r.length;f<l;f+=1){let u=r[f];i.length=0,a=0;for(let p=0,d=u.length;p<d;p+=1){let g=u[p],{isMatch:x,indices:y,score:T}=g.search(t);if(x){if(a+=1,s+=T,o){let v=g.constructor.type;lf.has(v)?i=[...i,...y]:i.push(y)}}else{s=0,a=0,i.length=0;break}}if(a){let p={isMatch:!0,score:s/a};return o&&(p.indices=i),p}}return{isMatch:!1,score:1}}},tr=[];function uf(...e){tr.push(...e)}function rr(e,t){for(let r=0,o=tr.length;r<o;r+=1){let n=tr[r];if(n.condition(e,t))return new n(e,t)}return new Xe(e,t)}var et={AND:"$and",OR:"$or"},or={PATH:"$path",PATTERN:"$val"},nr=e=>!!(e[et.AND]||e[et.OR]),cf=e=>!!e[or.PATH],mf=e=>!U(e)&&Eo(e)&&!nr(e),Io=e=>({[et.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function Ro(e,t,{auto:r=!0}={}){let o=n=>{let a=Object.keys(n),i=cf(n);if(!i&&a.length>1&&!nr(n))return o(Io(n));if(mf(n)){let f=i?n[or.PATH]:a[0],l=i?n[or.PATTERN]:n[f];if(!z(l))throw new Error(Us(f));let u={keyId:Kt(f),pattern:l};return r&&(u.searcher=rr(l,t)),u}let s={children:[],operator:a[0]};return a.forEach(f=>{let l=n[f];U(l)&&l.forEach(u=>{s.children.push(o(u))})}),s};return nr(e)||(e=Io(e)),o(e)}function pf(e,{ignoreFieldNorm:t=h.ignoreFieldNorm}){e.forEach(r=>{let o=1;r.matches.forEach(({key:n,norm:a,score:i})=>{let s=n?n.weight:null;o*=Math.pow(i===0&&s?Number.EPSILON:i,(s||1)*(t?1:a))}),r.score=o})}function df(e,t){let r=e.matches;t.matches=[],I(r)&&r.forEach(o=>{if(!I(o.indices)||!o.indices.length)return;let{indices:n,value:a}=o,i={indices:n,value:a};o.key&&(i.key=o.key.src),o.idx>-1&&(i.refIndex=o.idx),t.matches.push(i)})}function hf(e,t){t.score=e.score}function gf(e,t,{includeMatches:r=h.includeMatches,includeScore:o=h.includeScore}={}){let n=[];return r&&n.push(df),o&&n.push(hf),e.map(a=>{let{idx:i}=a,s={item:t[i],refIndex:i};return n.length&&n.forEach(f=>{f(a,s)}),s})}var G=class{constructor(t,r={},o){this.options={...h,...r},this.options.useExtendedSearch,this._keyStore=new Gt(this.options.keys),this.setCollection(t,o)}setCollection(t,r){if(this._docs=t,r&&!(r instanceof $e))throw new Error(Hs);this._myIndex=r||ko(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){!I(t)||(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){let r=[];for(let o=0,n=this._docs.length;o<n;o+=1){let a=this._docs[o];t(a,o)&&(this.removeAt(o),o-=1,n-=1,r.push(a))}return r}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:r=-1}={}){let{includeMatches:o,includeScore:n,shouldSort:a,sortFn:i,ignoreFieldNorm:s}=this.options,f=z(t)?z(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return pf(f,{ignoreFieldNorm:s}),a&&f.sort(i),$o(r)&&r>-1&&(f=f.slice(0,r)),gf(f,this._docs,{includeMatches:o,includeScore:n})}_searchStringList(t){let r=rr(t,this.options),{records:o}=this._myIndex,n=[];return o.forEach(({v:a,i,n:s})=>{if(!I(a))return;let{isMatch:f,score:l,indices:u}=r.searchIn(a);f&&n.push({item:a,idx:i,matches:[{score:l,value:a,norm:s,indices:u}]})}),n}_searchLogical(t){let r=Ro(t,this.options),o=(s,f,l)=>{if(!s.children){let{keyId:p,searcher:d}=s,g=this._findMatches({key:this._keyStore.get(p),value:this._myIndex.getValueForItemAtKeyId(f,p),searcher:d});return g&&g.length?[{idx:l,item:f,matches:g}]:[]}let u=[];for(let p=0,d=s.children.length;p<d;p+=1){let g=s.children[p],x=o(g,f,l);if(x.length)u.push(...x);else if(s.operator===et.AND)return[]}return u},n=this._myIndex.records,a={},i=[];return n.forEach(({$:s,i:f})=>{if(I(s)){let l=o(r,s,f);l.length&&(a[f]||(a[f]={idx:f,item:s,matches:[]},i.push(a[f])),l.forEach(({matches:u})=>{a[f].matches.push(...u)}))}}),i}_searchObjectList(t){let r=rr(t,this.options),{keys:o,records:n}=this._myIndex,a=[];return n.forEach(({$:i,i:s})=>{if(!I(i))return;let f=[];o.forEach((l,u)=>{f.push(...this._findMatches({key:l,value:i[u],searcher:r}))}),f.length&&a.push({idx:s,item:i,matches:f})}),a}_findMatches({key:t,value:r,searcher:o}){if(!I(r))return[];let n=[];if(U(r))r.forEach(({v:a,i,n:s})=>{if(!I(a))return;let{isMatch:f,score:l,indices:u}=o.searchIn(a);f&&n.push({score:l,key:t,value:a,idx:i,norm:s,indices:u})});else{let{v:a,n:i}=r,{isMatch:s,score:f,indices:l}=o.searchIn(a);s&&n.push({score:f,key:t,value:a,norm:i,indices:l})}return n}};G.version="6.6.2";G.createIndex=ko;G.parseIndex=tf;G.config=h;G.parseQuery=Ro;uf(er);var xf=typeof global=="object"&&global&&global.Object===Object&&global,tt=xf;var yf=typeof self=="object"&&self&&self.Object===Object&&self,_f=tt||yf||Function("return this")(),S=_f;var bf=S.Symbol,E=bf;var jo=Object.prototype,vf=jo.hasOwnProperty,wf=jo.toString,Ee=E?E.toStringTag:void 0;function Sf(e){var t=vf.call(e,Ee),r=e[Ee];try{e[Ee]=void 0;var o=!0}catch{}var n=wf.call(e);return o&&(t?e[Ee]=r:delete e[Ee]),n}var No=Sf;var Tf=Object.prototype,Af=Tf.toString;function Cf(e){return Af.call(e)}var Lo=Cf;var Of="[object Null]",If="[object Undefined]",Do=E?E.toStringTag:void 0;function $f(e){return e==null?e===void 0?If:Of:Do&&Do in Object(e)?No(e):Lo(e)}var j=$f;function Ef(e){return e!=null&&typeof e=="object"}var N=Ef;var Mf="[object Symbol]";function Pf(e){return typeof e=="symbol"||N(e)&&j(e)==Mf}var V=Pf;function kf(e,t){for(var r=-1,o=e==null?0:e.length,n=Array(o);++r<o;)n[r]=t(e[r],r,e);return n}var Bo=kf;var Rf=Array.isArray,A=Rf;var jf=1/0,Fo=E?E.prototype:void 0,zo=Fo?Fo.toString:void 0;function Wo(e){if(typeof e=="string")return e;if(A(e))return Bo(e,Wo)+"";if(V(e))return zo?zo.call(e):"";var t=e+"";return t=="0"&&1/e==-jf?"-0":t}var Ho=Wo;var Nf=/\s/;function Lf(e){for(var t=e.length;t--&&Nf.test(e.charAt(t)););return t}var Uo=Lf;var Df=/^\s+/;function Bf(e){return e&&e.slice(0,Uo(e)+1).replace(Df,"")}var Go=Bf;function Ff(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var L=Ff;var Ko=0/0,zf=/^[-+]0x[0-9a-f]+$/i,Wf=/^0b[01]+$/i,Hf=/^0o[0-7]+$/i,Uf=parseInt;function Gf(e){if(typeof e=="number")return e;if(V(e))return Ko;if(L(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=L(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Go(e);var r=Wf.test(e);return r||Hf.test(e)?Uf(e.slice(2),r?2:8):zf.test(e)?Ko:+e}var ar=Gf;function Kf(e){return e}var rt=Kf;var qf="[object AsyncFunction]",Yf="[object Function]",Vf="[object GeneratorFunction]",Jf="[object Proxy]";function Xf(e){if(!L(e))return!1;var t=j(e);return t==Yf||t==Vf||t==qf||t==Jf}var ot=Xf;var Qf=S["__core-js_shared__"],nt=Qf;var qo=function(){var e=/[^.]+$/.exec(nt&&nt.keys&&nt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Zf(e){return!!qo&&qo in e}var Yo=Zf;var el=Function.prototype,tl=el.toString;function rl(e){if(e!=null){try{return tl.call(e)}catch{}try{return e+""}catch{}}return""}var K=rl;var ol=/[\\^$.*+?()[\]{}|]/g,nl=/^\[object .+?Constructor\]$/,al=Function.prototype,il=Object.prototype,sl=al.toString,fl=il.hasOwnProperty,ll=RegExp("^"+sl.call(fl).replace(ol,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ul(e){if(!L(e)||Yo(e))return!1;var t=ot(e)?ll:nl;return t.test(K(e))}var Vo=ul;function cl(e,t){return e?.[t]}var Jo=cl;function ml(e,t){var r=Jo(e,t);return Vo(r)?r:void 0}var M=ml;var pl=M(S,"WeakMap"),at=pl;function dl(){}var Xo=dl;function hl(e,t,r,o){for(var n=e.length,a=r+(o?1:-1);o?a--:++a<n;)if(t(e[a],a,e))return a;return-1}var Qo=hl;function gl(e){return e!==e}var Zo=gl;function xl(e,t,r){for(var o=r-1,n=e.length;++o<n;)if(e[o]===t)return o;return-1}var en=xl;function yl(e,t,r){return t===t?en(e,t,r):Qo(e,Zo,r)}var tn=yl;function _l(e,t){var r=e==null?0:e.length;return!!r&&tn(e,t,0)>-1}var rn=_l;var bl=9007199254740991,vl=/^(?:0|[1-9]\d*)$/;function wl(e,t){var r=typeof e;return t=t??bl,!!t&&(r=="number"||r!="symbol"&&vl.test(e))&&e>-1&&e%1==0&&e<t}var it=wl;function Sl(e,t){return e===t||e!==e&&t!==t}var st=Sl;var Tl=9007199254740991;function Al(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Tl}var pe=Al;function Cl(e){return e!=null&&pe(e.length)&&!ot(e)}var ft=Cl;var Ol=Object.prototype;function Il(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Ol;return e===r}var on=Il;function $l(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o}var nn=$l;var El="[object Arguments]";function Ml(e){return N(e)&&j(e)==El}var ir=Ml;var an=Object.prototype,Pl=an.hasOwnProperty,kl=an.propertyIsEnumerable,Rl=ir(function(){return arguments}())?ir:function(e){return N(e)&&Pl.call(e,"callee")&&!kl.call(e,"callee")},lt=Rl;function jl(){return!1}var sn=jl;var un=typeof exports=="object"&&exports&&!exports.nodeType&&exports,fn=un&&typeof module=="object"&&module&&!module.nodeType&&module,Nl=fn&&fn.exports===un,ln=Nl?S.Buffer:void 0,Ll=ln?ln.isBuffer:void 0,Dl=Ll||sn,Me=Dl;var Bl="[object Arguments]",Fl="[object Array]",zl="[object Boolean]",Wl="[object Date]",Hl="[object Error]",Ul="[object Function]",Gl="[object Map]",Kl="[object Number]",ql="[object Object]",Yl="[object RegExp]",Vl="[object Set]",Jl="[object String]",Xl="[object WeakMap]",Ql="[object ArrayBuffer]",Zl="[object DataView]",eu="[object Float32Array]",tu="[object Float64Array]",ru="[object Int8Array]",ou="[object Int16Array]",nu="[object Int32Array]",au="[object Uint8Array]",iu="[object Uint8ClampedArray]",su="[object Uint16Array]",fu="[object Uint32Array]",_={};_[eu]=_[tu]=_[ru]=_[ou]=_[nu]=_[au]=_[iu]=_[su]=_[fu]=!0;_[Bl]=_[Fl]=_[Ql]=_[zl]=_[Zl]=_[Wl]=_[Hl]=_[Ul]=_[Gl]=_[Kl]=_[ql]=_[Yl]=_[Vl]=_[Jl]=_[Xl]=!1;function lu(e){return N(e)&&pe(e.length)&&!!_[j(e)]}var cn=lu;function uu(e){return function(t){return e(t)}}var mn=uu;var pn=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Pe=pn&&typeof module=="object"&&module&&!module.nodeType&&module,cu=Pe&&Pe.exports===pn,sr=cu&&tt.process,mu=function(){try{var e=Pe&&Pe.require&&Pe.require("util").types;return e||sr&&sr.binding&&sr.binding("util")}catch{}}(),fr=mu;var dn=fr&&fr.isTypedArray,pu=dn?mn(dn):cn,ut=pu;var du=Object.prototype,hu=du.hasOwnProperty;function gu(e,t){var r=A(e),o=!r&&lt(e),n=!r&&!o&&Me(e),a=!r&&!o&&!n&&ut(e),i=r||o||n||a,s=i?nn(e.length,String):[],f=s.length;for(var l in e)(t||hu.call(e,l))&&!(i&&(l=="length"||n&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||it(l,f)))&&s.push(l);return s}var hn=gu;function xu(e,t){return function(r){return e(t(r))}}var gn=xu;var yu=gn(Object.keys,Object),xn=yu;var _u=Object.prototype,bu=_u.hasOwnProperty;function vu(e){if(!on(e))return xn(e);var t=[];for(var r in Object(e))bu.call(e,r)&&r!="constructor"&&t.push(r);return t}var yn=vu;function wu(e){return ft(e)?hn(e):yn(e)}var de=wu;var Su=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Tu=/^\w*$/;function Au(e,t){if(A(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||V(e)?!0:Tu.test(e)||!Su.test(e)||t!=null&&e in Object(t)}var he=Au;var Cu=M(Object,"create"),q=Cu;function Ou(){this.__data__=q?q(null):{},this.size=0}var _n=Ou;function Iu(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var bn=Iu;var $u="__lodash_hash_undefined__",Eu=Object.prototype,Mu=Eu.hasOwnProperty;function Pu(e){var t=this.__data__;if(q){var r=t[e];return r===$u?void 0:r}return Mu.call(t,e)?t[e]:void 0}var vn=Pu;var ku=Object.prototype,Ru=ku.hasOwnProperty;function ju(e){var t=this.__data__;return q?t[e]!==void 0:Ru.call(t,e)}var wn=ju;var Nu="__lodash_hash_undefined__";function Lu(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=q&&t===void 0?Nu:t,this}var Sn=Lu;function ge(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}ge.prototype.clear=_n;ge.prototype.delete=bn;ge.prototype.get=vn;ge.prototype.has=wn;ge.prototype.set=Sn;var lr=ge;function Du(){this.__data__=[],this.size=0}var Tn=Du;function Bu(e,t){for(var r=e.length;r--;)if(st(e[r][0],t))return r;return-1}var J=Bu;var Fu=Array.prototype,zu=Fu.splice;function Wu(e){var t=this.__data__,r=J(t,e);if(r<0)return!1;var o=t.length-1;return r==o?t.pop():zu.call(t,r,1),--this.size,!0}var An=Wu;function Hu(e){var t=this.__data__,r=J(t,e);return r<0?void 0:t[r][1]}var Cn=Hu;function Uu(e){return J(this.__data__,e)>-1}var On=Uu;function Gu(e,t){var r=this.__data__,o=J(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}var In=Gu;function xe(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}xe.prototype.clear=Tn;xe.prototype.delete=An;xe.prototype.get=Cn;xe.prototype.has=On;xe.prototype.set=In;var X=xe;var Ku=M(S,"Map"),Q=Ku;function qu(){this.size=0,this.__data__={hash:new lr,map:new(Q||X),string:new lr}}var $n=qu;function Yu(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var En=Yu;function Vu(e,t){var r=e.__data__;return En(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Z=Vu;function Ju(e){var t=Z(this,e).delete(e);return this.size-=t?1:0,t}var Mn=Ju;function Xu(e){return Z(this,e).get(e)}var Pn=Xu;function Qu(e){return Z(this,e).has(e)}var kn=Qu;function Zu(e,t){var r=Z(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}var Rn=Zu;function ye(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}ye.prototype.clear=$n;ye.prototype.delete=Mn;ye.prototype.get=Pn;ye.prototype.has=kn;ye.prototype.set=Rn;var se=ye;var ec="Expected a function";function ur(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(ec);var r=function(){var o=arguments,n=t?t.apply(this,o):o[0],a=r.cache;if(a.has(n))return a.get(n);var i=e.apply(this,o);return r.cache=a.set(n,i)||a,i};return r.cache=new(ur.Cache||se),r}ur.Cache=se;var jn=ur;var tc=500;function rc(e){var t=jn(e,function(o){return r.size===tc&&r.clear(),o}),r=t.cache;return t}var Nn=rc;var oc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nc=/\\(\\)?/g,ac=Nn(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(oc,function(r,o,n,a){t.push(n?a.replace(nc,"$1"):o||r)}),t}),Ln=ac;function ic(e){return e==null?"":Ho(e)}var Dn=ic;function sc(e,t){return A(e)?e:he(e,t)?[e]:Ln(Dn(e))}var ct=sc;var fc=1/0;function lc(e){if(typeof e=="string"||V(e))return e;var t=e+"";return t=="0"&&1/e==-fc?"-0":t}var ee=lc;function uc(e,t){t=ct(t,e);for(var r=0,o=t.length;e!=null&&r<o;)e=e[ee(t[r++])];return r&&r==o?e:void 0}var mt=uc;function cc(e,t,r){var o=e==null?void 0:mt(e,t);return o===void 0?r:o}var Bn=cc;function mc(e,t){for(var r=-1,o=t.length,n=e.length;++r<o;)e[n+r]=t[r];return e}var Fn=mc;function pc(){this.__data__=new X,this.size=0}var zn=pc;function dc(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Wn=dc;function hc(e){return this.__data__.get(e)}var Hn=hc;function gc(e){return this.__data__.has(e)}var Un=gc;var xc=200;function yc(e,t){var r=this.__data__;if(r instanceof X){var o=r.__data__;if(!Q||o.length<xc-1)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new se(o)}return r.set(e,t),this.size=r.size,this}var Gn=yc;function _e(e){var t=this.__data__=new X(e);this.size=t.size}_e.prototype.clear=zn;_e.prototype.delete=Wn;_e.prototype.get=Hn;_e.prototype.has=Un;_e.prototype.set=Gn;var be=_e;function _c(e,t){for(var r=-1,o=e==null?0:e.length,n=0,a=[];++r<o;){var i=e[r];t(i,r,e)&&(a[n++]=i)}return a}var Kn=_c;function bc(){return[]}var qn=bc;var vc=Object.prototype,wc=vc.propertyIsEnumerable,Yn=Object.getOwnPropertySymbols,Sc=Yn?function(e){return e==null?[]:(e=Object(e),Kn(Yn(e),function(t){return wc.call(e,t)}))}:qn,Vn=Sc;function Tc(e,t,r){var o=t(e);return A(e)?o:Fn(o,r(e))}var Jn=Tc;function Ac(e){return Jn(e,de,Vn)}var cr=Ac;var Cc=M(S,"DataView"),pt=Cc;var Oc=M(S,"Promise"),dt=Oc;var Ic=M(S,"Set"),te=Ic;var Xn="[object Map]",$c="[object Object]",Qn="[object Promise]",Zn="[object Set]",ea="[object WeakMap]",ta="[object DataView]",Ec=K(pt),Mc=K(Q),Pc=K(dt),kc=K(te),Rc=K(at),fe=j;(pt&&fe(new pt(new ArrayBuffer(1)))!=ta||Q&&fe(new Q)!=Xn||dt&&fe(dt.resolve())!=Qn||te&&fe(new te)!=Zn||at&&fe(new at)!=ea)&&(fe=function(e){var t=j(e),r=t==$c?e.constructor:void 0,o=r?K(r):"";if(o)switch(o){case Ec:return ta;case Mc:return Xn;case Pc:return Qn;case kc:return Zn;case Rc:return ea}return t});var mr=fe;var jc=S.Uint8Array,pr=jc;var Nc="__lodash_hash_undefined__";function Lc(e){return this.__data__.set(e,Nc),this}var ra=Lc;function Dc(e){return this.__data__.has(e)}var oa=Dc;function ht(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new se;++t<r;)this.add(e[t])}ht.prototype.add=ht.prototype.push=ra;ht.prototype.has=oa;var gt=ht;function Bc(e,t){for(var r=-1,o=e==null?0:e.length;++r<o;)if(t(e[r],r,e))return!0;return!1}var na=Bc;function Fc(e,t){return e.has(t)}var xt=Fc;var zc=1,Wc=2;function Hc(e,t,r,o,n,a){var i=r&zc,s=e.length,f=t.length;if(s!=f&&!(i&&f>s))return!1;var l=a.get(e),u=a.get(t);if(l&&u)return l==t&&u==e;var p=-1,d=!0,g=r&Wc?new gt:void 0;for(a.set(e,t),a.set(t,e);++p<s;){var x=e[p],y=t[p];if(o)var T=i?o(y,x,p,t,e,a):o(x,y,p,e,t,a);if(T!==void 0){if(T)continue;d=!1;break}if(g){if(!na(t,function(v,C){if(!xt(g,C)&&(x===v||n(x,v,r,o,a)))return g.push(C)})){d=!1;break}}else if(!(x===y||n(x,y,r,o,a))){d=!1;break}}return a.delete(e),a.delete(t),d}var yt=Hc;function Uc(e){var t=-1,r=Array(e.size);return e.forEach(function(o,n){r[++t]=[n,o]}),r}var aa=Uc;function Gc(e){var t=-1,r=Array(e.size);return e.forEach(function(o){r[++t]=o}),r}var ve=Gc;var Kc=1,qc=2,Yc="[object Boolean]",Vc="[object Date]",Jc="[object Error]",Xc="[object Map]",Qc="[object Number]",Zc="[object RegExp]",em="[object Set]",tm="[object String]",rm="[object Symbol]",om="[object ArrayBuffer]",nm="[object DataView]",ia=E?E.prototype:void 0,dr=ia?ia.valueOf:void 0;function am(e,t,r,o,n,a,i){switch(r){case nm:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case om:return!(e.byteLength!=t.byteLength||!a(new pr(e),new pr(t)));case Yc:case Vc:case Qc:return st(+e,+t);case Jc:return e.name==t.name&&e.message==t.message;case Zc:case tm:return e==t+"";case Xc:var s=aa;case em:var f=o&Kc;if(s||(s=ve),e.size!=t.size&&!f)return!1;var l=i.get(e);if(l)return l==t;o|=qc,i.set(e,t);var u=yt(s(e),s(t),o,n,a,i);return i.delete(e),u;case rm:if(dr)return dr.call(e)==dr.call(t)}return!1}var sa=am;var im=1,sm=Object.prototype,fm=sm.hasOwnProperty;function lm(e,t,r,o,n,a){var i=r&im,s=cr(e),f=s.length,l=cr(t),u=l.length;if(f!=u&&!i)return!1;for(var p=f;p--;){var d=s[p];if(!(i?d in t:fm.call(t,d)))return!1}var g=a.get(e),x=a.get(t);if(g&&x)return g==t&&x==e;var y=!0;a.set(e,t),a.set(t,e);for(var T=i;++p<f;){d=s[p];var v=e[d],C=t[d];if(o)var $=i?o(C,v,d,t,e,a):o(v,C,d,e,t,a);if(!($===void 0?v===C||n(v,C,r,o,a):$)){y=!1;break}T||(T=d=="constructor")}if(y&&!T){var P=e.constructor,D=t.constructor;P!=D&&"constructor"in e&&"constructor"in t&&!(typeof P=="function"&&P instanceof P&&typeof D=="function"&&D instanceof D)&&(y=!1)}return a.delete(e),a.delete(t),y}var fa=lm;var um=1,la="[object Arguments]",ua="[object Array]",_t="[object Object]",cm=Object.prototype,ca=cm.hasOwnProperty;function mm(e,t,r,o,n,a){var i=A(e),s=A(t),f=i?ua:mr(e),l=s?ua:mr(t);f=f==la?_t:f,l=l==la?_t:l;var u=f==_t,p=l==_t,d=f==l;if(d&&Me(e)){if(!Me(t))return!1;i=!0,u=!1}if(d&&!u)return a||(a=new be),i||ut(e)?yt(e,t,r,o,n,a):sa(e,t,f,r,o,n,a);if(!(r&um)){var g=u&&ca.call(e,"__wrapped__"),x=p&&ca.call(t,"__wrapped__");if(g||x){var y=g?e.value():e,T=x?t.value():t;return a||(a=new be),n(y,T,r,o,a)}}return d?(a||(a=new be),fa(e,t,r,o,n,a)):!1}var ma=mm;function pa(e,t,r,o,n){return e===t?!0:e==null||t==null||!N(e)&&!N(t)?e!==e&&t!==t:ma(e,t,r,o,pa,n)}var bt=pa;var pm=1,dm=2;function hm(e,t,r,o){var n=r.length,a=n,i=!o;if(e==null)return!a;for(e=Object(e);n--;){var s=r[n];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++n<a;){s=r[n];var f=s[0],l=e[f],u=s[1];if(i&&s[2]){if(l===void 0&&!(f in e))return!1}else{var p=new be;if(o)var d=o(l,u,f,e,t,p);if(!(d===void 0?bt(u,l,pm|dm,o,p):d))return!1}}return!0}var da=hm;function gm(e){return e===e&&!L(e)}var vt=gm;function xm(e){for(var t=de(e),r=t.length;r--;){var o=t[r],n=e[o];t[r]=[o,n,vt(n)]}return t}var ha=xm;function ym(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var wt=ym;function _m(e){var t=ha(e);return t.length==1&&t[0][2]?wt(t[0][0],t[0][1]):function(r){return r===e||da(r,e,t)}}var ga=_m;function bm(e,t){return e!=null&&t in Object(e)}var xa=bm;function vm(e,t,r){t=ct(t,e);for(var o=-1,n=t.length,a=!1;++o<n;){var i=ee(t[o]);if(!(a=e!=null&&r(e,i)))break;e=e[i]}return a||++o!=n?a:(n=e==null?0:e.length,!!n&&pe(n)&&it(i,n)&&(A(e)||lt(e)))}var ya=vm;function wm(e,t){return e!=null&&ya(e,t,xa)}var _a=wm;var Sm=1,Tm=2;function Am(e,t){return he(e)&&vt(t)?wt(ee(e),t):function(r){var o=Bn(r,e);return o===void 0&&o===t?_a(r,e):bt(t,o,Sm|Tm)}}var ba=Am;function Cm(e){return function(t){return t?.[e]}}var va=Cm;function Om(e){return function(t){return mt(t,e)}}var wa=Om;function Im(e){return he(e)?va(ee(e)):wa(e)}var Sa=Im;function $m(e){return typeof e=="function"?e:e==null?rt:typeof e=="object"?A(e)?ba(e[0],e[1]):ga(e):Sa(e)}var Ta=$m;function Em(e){return function(t,r,o){for(var n=-1,a=Object(t),i=o(t),s=i.length;s--;){var f=i[e?s:++n];if(r(a[f],f,a)===!1)break}return t}}var Aa=Em;function Mm(e,t){return function(r,o){if(r==null)return r;if(!ft(r))return e(r,o);for(var n=r.length,a=t?n:-1,i=Object(r);(t?a--:++a<n)&&o(i[a],a,i)!==!1;);return r}}var Ca=Mm;var Pm=function(){return S.Date.now()},St=Pm;var km="Expected a function",Rm=Math.max,jm=Math.min;function Nm(e,t,r){var o,n,a,i,s,f,l=0,u=!1,p=!1,d=!0;if(typeof e!="function")throw new TypeError(km);t=ar(t)||0,L(r)&&(u=!!r.leading,p="maxWait"in r,a=p?Rm(ar(r.maxWait)||0,t):a,d="trailing"in r?!!r.trailing:d);function g(b){var w=o,O=n;return o=n=void 0,l=b,i=e.apply(O,w),i}function x(b){return l=b,s=setTimeout(v,t),u?g(b):i}function y(b){var w=b-f,O=b-l,k=t-w;return p?jm(k,a-O):k}function T(b){var w=b-f,O=b-l;return f===void 0||w>=t||w<0||p&&O>=a}function v(){var b=St();if(T(b))return C(b);s=setTimeout(v,y(b))}function C(b){return s=void 0,d&&o?g(b):(o=n=void 0,i)}function $(){s!==void 0&&clearTimeout(s),l=0,o=f=n=s=void 0}function P(){return s===void 0?i:C(St())}function D(){var b=St(),w=T(b);if(o=arguments,n=this,f=b,w){if(s===void 0)return x(f);if(p)return clearTimeout(s),s=setTimeout(v,t),g(f)}return s===void 0&&(s=setTimeout(v,t)),i}return D.cancel=$,D.flush=P,D}var hr=Nm;function Lm(e,t,r){for(var o=-1,n=e==null?0:e.length;++o<n;)if(r(t,e[o]))return!0;return!1}var Oa=Lm;function Dm(e){return typeof e=="function"?e:rt}var Ia=Dm;function Bm(e,t){for(var r=e==null?0:e.length;r--&&t(e[r],r,e)!==!1;);return e}var $a=Bm;var Fm=Aa(!0),Ea=Fm;function zm(e,t){return e&&Ea(e,t,de)}var Ma=zm;var Wm=Ca(Ma,!0),Pa=Wm;function Hm(e,t){var r=A(e)?$a:Pa;return r(e,Ia(t))}var gr=Hm;var Um=1/0,Gm=te&&1/ve(new te([,-0]))[1]==Um?function(e){return new te(e)}:Xo,ka=Gm;var Km=200;function qm(e,t,r){var o=-1,n=rn,a=e.length,i=!0,s=[],f=s;if(r)i=!1,n=Oa;else if(a>=Km){var l=t?null:ka(e);if(l)return ve(l);i=!1,n=xt,f=new gt}else f=t?[]:s;e:for(;++o<a;){var u=e[o],p=t?t(u):u;if(u=r||u!==0?u:0,i&&p===p){for(var d=f.length;d--;)if(f[d]===p)continue e;t&&f.push(p),s.push(u)}else n(f,p,r)||(f!==s&&f.push(p),s.push(u))}return s}var Ra=qm;function Ym(e,t){return e&&e.length?Ra(e,Ta(t,2)):[]}var xr=Ym;var Vm={threshold:.5,useExtendedSearch:!0,keys:["name","author","description"]},Jm=(e,t)=>!t||t===""?e:new G(e,Vm).search(t).map(r=>r.item),Tt=(e,t,r)=>Jm(xr(e??[],o=>o.url),t).filter(o=>r==="0"||r==="1"&&!o.compat||r==="2"&&o.compat);var ja=c(m()),At=e=>(0,ja.createComponent)(shelter.ui.TextBox,{get value(){return e.query},get onInput(){return e.onChange},placeholder:"Search themes..."});var _r=c(m()),Na=c(m()),La=c(m()),yr=c(m()),Ct=c(m()),Xm=(0,_r.template)("<select></select>",2),Qm=(0,_r.template)("<option></option>",2),Zm=e=>(()=>{let t=Xm.cloneNode(!0);return t.addEventListener("change",r=>e.onChange(r.target.value)),(0,yr.insert)(t,()=>e.options.map(r=>(()=>{let o=Qm.cloneNode(!0);return(0,yr.insert)(o,()=>r.label),(0,Ct.effect)(()=>o.value=r.value),o})())),(0,Ct.effect)(r=>{let o=e.isDisabled,n=e.class;return o!==r._v$&&(t.disabled=r._v$=o),n!==r._v$2&&(0,La.className)(t,r._v$2=n),r},{_v$:void 0,_v$2:void 0}),(0,Ct.effect)(()=>t.value=e.value),t})(),Ot=e=>(0,Na.createComponent)(Zm,{options:[{value:0,label:"Show All"},{value:1,label:"CC Only"},{value:2,label:"BD Only"}],get value(){return e.filterMode},get onChange(){return e.setFilterMode},isDisabled:!1,class:"ysink_stain_dropdown"});var Da=c(m()),It=c(m()),we=c(m()),ep=(0,Da.template)('<div class="ysink_stain_nosplash"></div>',2),{Header:tp,HeaderTags:rp,Text:op,Button:np,ButtonColors:ap,ButtonSizes:ip}=shelter.ui,Ba=e=>(()=>{let t=ep.cloneNode(!0);return(0,It.insert)(t,(0,we.createComponent)(tp,{get tag(){return rp.H2},get children(){return e.title}}),null),(0,It.insert)(t,(0,we.createComponent)(op,{get children(){return e.subtitle}}),null),(0,It.insert)(t,(0,we.createComponent)(np,{class:"ysink_stain_button",get color(){return ap.GREEN},get size(){return ip.LARGE},get onClick(){return e.onClick},get children(){return e.btnText}}),null),t})(),Fa=e=>(0,we.createComponent)(Ba,{title:"No Repos",subtitle:"Add one in the repo manager!",get onClick(){return e.goToRepos},btnText:"Open repo manager"}),za=e=>(0,we.createComponent)(Ba,{title:"No Themes",subtitle:"Paste a link in above, or head over to the store",get onClick(){return e.goToStore},btnText:"Get some themes"});var sp=(0,vr.template)('<div class="ysink_stain_search_row"></div>',2),fp=(0,vr.template)('<div class="ysink_stain_cardcontainer"></div>',2),{solid:{createSignal:Wa},plugin:{store:Ha}}=shelter,Ga=e=>{let[t,r]=Wa(""),[o,n]=Wa("0");return[(0,Se.createComponent)(So,{}),(()=>{let a=sp.cloneNode(!0);return(0,$t.insert)(a,(0,Se.createComponent)(At,{get query(){return t()},onChange:r}),null),(0,$t.insert)(a,(0,Se.createComponent)(Ot,{get filterMode(){return o()},setFilterMode:n}),null),a})(),(0,br.memo)((()=>{let a=(0,br.memo)(()=>Ha.themes.length===0);return()=>a()?(0,Se.createComponent)(za,{goToStore:()=>e.goTo(1)}):(()=>{let i=fp.cloneNode(!0);return(0,$t.insert)(i,()=>Tt(Ha.themes,t(),o()).map(s=>(0,Se.createComponent)(Ve,(0,Ua.mergeProps)(()=>({key:s.url,theme:s}))))),i})()})())]};var yi=c(m()),_i=c(m()),bi=c(m()),Hw=c(m());var di=c(m()),hi=c(m()),gi=c(m()),le=c(qa());function lp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ya(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,o)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ya(Object(r),!0).forEach(function(o){lp(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ya(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function up(e,t){if(e==null)return{};var r={},o=Object.keys(e),n,a;for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function Ja(e,t){if(e==null)return{};var r=up(e,t),o,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],!(t.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,o)||(r[o]=e[o]))}return r}function Xa(e,t){return cp(e)||mp(e,t)||pp(e,t)||dp()}function cp(e){if(Array.isArray(e))return e}function mp(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],o=!0,n=!1,a=void 0;try{for(var i=e[Symbol.iterator](),s;!(o=(s=i.next()).done)&&(r.push(s.value),!(t&&r.length===t));o=!0);}catch(f){n=!0,a=f}finally{try{!o&&i.return!=null&&i.return()}finally{if(n)throw a}}return r}}function pp(e,t){if(!!e){if(typeof e=="string")return Va(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Va(e,t)}}function Va(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function dp(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,o)}return r}function Za(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qa(Object(r),!0).forEach(function(o){hp(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qa(Object(r)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))})}return e}function gp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(o){return t.reduceRight(function(n,a){return a(n)},o)}}function ke(e){return function t(){for(var r=this,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return n.length>=e.length?e.apply(this,n):function(){for(var i=arguments.length,s=new Array(i),f=0;f<i;f++)s[f]=arguments[f];return t.apply(r,[].concat(n,s))}}}function Mt(e){return{}.toString.call(e).includes("Object")}function xp(e){return!Object.keys(e).length}function Re(e){return typeof e=="function"}function yp(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _p(e,t){return Mt(t)||re("changeType"),Object.keys(t).some(function(r){return!yp(e,r)})&&re("changeField"),t}function bp(e){Re(e)||re("selectorType")}function vp(e){Re(e)||Mt(e)||re("handlerType"),Mt(e)&&Object.values(e).some(function(t){return!Re(t)})&&re("handlersType")}function wp(e){e||re("initialIsRequired"),Mt(e)||re("initialType"),xp(e)&&re("initialContent")}function Sp(e,t){throw new Error(e[t]||e.default)}var Tp={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},re=ke(Sp)(Tp),Et={changes:_p,selector:bp,handler:vp,initial:wp};function Ap(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Et.initial(e),Et.handler(t);var r={current:e},o=ke(Ip)(r,t),n=ke(Op)(r),a=ke(Et.changes)(e),i=ke(Cp)(r);function s(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(u){return u};return Et.selector(l),l(r.current)}function f(l){gp(o,n,a,i)(l)}return[s,f]}function Cp(e,t){return Re(t)?t(e.current):t}function Op(e,t){return e.current=Za(Za({},e.current),t),t}function Ip(e,t,r){return Re(t)?t(e.current):Object.keys(r).forEach(function(o){var n;return(n=t[o])===null||n===void 0?void 0:n.call(t,e.current[o])}),r}var $p={create:Ap},ei=$p;var Ep={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.33.0/min/vs"}},ti=Ep;function Mp(e){return function t(){for(var r=this,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return n.length>=e.length?e.apply(this,n):function(){for(var i=arguments.length,s=new Array(i),f=0;f<i;f++)s[f]=arguments[f];return t.apply(r,[].concat(n,s))}}}var ri=Mp;function Pp(e){return{}.toString.call(e).includes("Object")}var oi=Pp;function kp(e){return e||ni("configIsRequired"),oi(e)||ni("configType"),e.urls?(Rp(),{paths:{vs:e.urls.monacoBase}}):e}function Rp(){console.warn(ai.deprecation)}function jp(e,t){throw new Error(e[t]||e.default)}var ai={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},ni=ri(jp)(ai),Np={config:kp},ii=Np;var Lp=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return function(n){return r.reduceRight(function(a,i){return i(a)},n)}},si=Lp;function fi(e,t){return Object.keys(t).forEach(function(r){t[r]instanceof Object&&e[r]&&Object.assign(t[r],fi(e[r],t[r]))}),wr(wr({},e),t)}var li=fi;var Dp={type:"cancelation",msg:"operation is manually canceled"};function Bp(e){var t=!1,r=new Promise(function(o,n){e.then(function(a){return t?n(Dp):o(a)}),e.catch(n)});return r.cancel=function(){return t=!0},r}var Pt=Bp;var Fp=ei.create({config:ti,isInitialized:!1,resolve:null,reject:null,monaco:null}),ui=Xa(Fp,2),je=ui[0],kt=ui[1];function zp(e){var t=ii.config(e),r=t.monaco,o=Ja(t,["monaco"]);kt(function(n){return{config:li(n.config,o),monaco:r}})}function Wp(){var e=je(function(t){var r=t.monaco,o=t.isInitialized,n=t.resolve;return{monaco:r,isInitialized:o,resolve:n}});if(!e.isInitialized){if(kt({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),Pt(Sr);if(window.monaco&&window.monaco.editor)return ci(window.monaco),e.resolve(window.monaco),Pt(Sr);si(Hp,Gp)(Kp)}return Pt(Sr)}function Hp(e){return document.body.appendChild(e)}function Up(e){var t=document.createElement("script");return e&&(t.src=e),t}function Gp(e){var t=je(function(o){var n=o.config,a=o.reject;return{config:n,reject:a}}),r=Up("".concat(t.config.paths.vs,"/loader.js"));return r.onload=function(){return e()},r.onerror=t.reject,r}function Kp(){var e=je(function(r){var o=r.config,n=r.resolve,a=r.reject;return{config:o,resolve:n,reject:a}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(r){ci(r),e.resolve(r)},function(r){e.reject(r)})}function ci(e){je().monaco||kt({monaco:e})}function qp(){return je(function(e){var t=e.monaco;return t})}var Sr=new Promise(function(e,t){return kt({resolve:e,reject:t})}),Yp={config:zp,init:Wp,__getMonacoInstance:qp},Rt=Yp;var Te,Tr,mi=new Set;async function Ar(e){if(!e||!e.trim()||mi.has(e))return;mi.add(e);let t=`https://cdn.esm.sh/monaco-themes@0.4.2/themes/${e}.json`,r=await fetch(t).then(o=>o.json());Te.editor.defineTheme(e,r)}async function pi(e){Te||(e&&Rt.config({monaco:e}),Tr||(Tr=Rt.init().then(t=>{Te=t})),await Tr)}var Vp=(0,di.template)("<div></div>",2),xi=e=>{let t,r=!1,o=async n=>{if(await pi(e.noCDN),await Ar(e.theme),r)return;let a=Te.editor.create(n,{language:e.lang,value:e.value,readOnly:e.readonly??!1,theme:e.theme,...e.otherCfg});t=()=>a.dispose(),a.onDidChangeModelContent(()=>{e.valOut?.(a.getValue())}),(0,le.createEffect)(()=>a.updateOptions({readOnly:e.readonly})),(0,le.createEffect)(()=>{e.value!==a.getValue()&&a.setValue(e.value)}),(0,le.createEffect)(async()=>{await Ar(e.theme),a.updateOptions({theme:e.theme})}),(0,le.createEffect)(()=>{let i=a.getModel();!i||(Te.editor.setModelLanguage(i,e.lang),a.setModel(i))})};return(0,le.onCleanup)(()=>{r=!0,t?.()}),(()=>{let n=Vp.cloneNode(!0);return(0,gi.use)(o,n),(0,hi.effect)(a=>{let i=e.width??"30rem",s=e.height??"10rem";return i!==a._v$&&n.style.setProperty("width",a._v$=i),s!==a._v$2&&n.style.setProperty("height",a._v$2=s),a},{_v$:void 0,_v$2:void 0}),n})()};var Jp=(0,yi.template)("<div></div>",2),Xp=hr(e=>vi.quickCSS=e,250),{solid:{createSignal:Qp},plugin:{store:vi}}=shelter,wi=()=>{let[e,t]=Qp(vi.quickCSS);return(()=>{let r=Jp.cloneNode(!0);return r.style.setProperty("maxWidth","60vw"),r.style.setProperty("height","40rem"),r.style.setProperty("resize","vertical"),r.style.setProperty("overflow","hidden"),r.style.setProperty("paddingBottom",".5rem"),(0,_i.insert)(r,(0,bi.createComponent)(xi,{get value(){return e()??" "},valOut:o=>{t(o),Xp(o)},lang:"css",theme:"Dracula",width:"100%",height:"100%",otherCfg:{automaticLayout:!0}})),r})()};var $i=c(m()),Le=c(m()),De=c(m());var Ti=c(m()),jt=c(m()),Ne=c(m()),Ai=c(m());var Zp=(0,Ti.template)('<div class="ysink_stain_card ysink_stain_row"><div><div class="ysink_stain_title"></div></div></div>',6),{solid:{createResource:ed},ui:{Text:td,Button:rd,ButtonColors:od},plugin:{store:Si}}=shelter,Ci=e=>{let[t]=ed(()=>e.repo,Y);return(()=>{let r=Zp.cloneNode(!0),o=r.firstChild,n=o.firstChild;return(0,Ne.insert)(n,()=>t()?.manifest.meta.name,null),(0,Ne.insert)(n,(()=>{let a=(0,Ai.memo)(()=>!!Dt.includes(e.repo));return()=>a()&&(0,jt.createComponent)(to,{class:"ysink_stain_officialbadge",text:"official",color:"var(--info-positive-foreground)"})})(),null),(0,Ne.insert)(o,(0,jt.createComponent)(td,{get children(){return e.repo}}),null),(0,Ne.insert)(r,(0,jt.createComponent)(rd,{get color(){return od.RED},class:"ysink_stain_button",grow:!0,onClick:()=>Si.repos=Si.repos.filter(a=>a!==e.repo),children:"Remove Repo"}),null),r})()};var{plugin:{store:Cr}}=shelter;async function nd(e){try{return await Y(e),!0}catch{return!1}}async function Oi(e,t,r){return e.endsWith("/")||(e+="/"),Cr.repos.includes(e)?(r("You already have this repo!"),!1):await nd(e)?(Cr.repos=[...Cr.repos,e],t("Added repo"),!0):(r("Repo was invalid"),!1)}var ad=(0,$i.template)('<div><div class="ysink_stain_row"></div><div class="ysink_stain_cardcontainer"></div></div>',6),{showToast:id,TextBox:sd}=shelter.ui,Ii=e=>id({title:e,duration:5e3}),{solid:{createSignal:fd},plugin:{store:ld},ui:{Button:ud,Divider:cd,ButtonSizes:md}}=shelter,Ei=()=>{let[e,t]=fd("");return(()=>{let r=ad.cloneNode(!0),o=r.firstChild,n=o.nextSibling;return o.style.setProperty("display","flex"),(0,Le.insert)(o,(0,De.createComponent)(sd,{get value(){return e()},onInput:t,placeholder:"https://example.com/repo"}),null),(0,Le.insert)(o,(0,De.createComponent)(ud,{class:"ysink_stain_button",get size(){return md.MEDIUM},onClick:async()=>{await Oi(e(),Ii,Ii)&&t("")},children:"Add"}),null),(0,Le.insert)(r,(0,De.createComponent)(cd,{mt:".5rem",mb:".5rem"}),n),(0,Le.insert)(n,()=>ld.repos.map(a=>(0,De.createComponent)(Ci,{repo:a}))),r})()};var Di=c(m()),Or=c(m()),Ir=c(m()),Ae=c(m());var Mi=c(m()),Pi=c(m()),ki=c(m()),Ri=c(m()),ji=c(m()),pd=(0,Mi.template)("<div><div></div></div>",4),{For:dd}=window.shelter.solid,Ni=e=>(()=>{let t=pd.cloneNode(!0),r=t.firstChild;return t.style.setProperty("overflow-y","auto"),r.style.setProperty("width","100%"),r.style.setProperty("position","relative"),(0,Ri.insert)(r,(0,ji.createComponent)(dd,{get each(){return e.items},children:o=>e.children(o)})),(0,ki.effect)(o=>{let n=e.height,a=e.class;return n!==o._v$&&t.style.setProperty("height",o._v$=n),a!==o._v$2&&(0,Pi.className)(t,o._v$2=a),o},{_v$:void 0,_v$2:void 0}),t})();var hd=(0,Di.template)('<div class="ysink_stain_search_row"></div>',2),{solid:{createSignal:Li,createResource:gd},plugin:{store:$r},ui:{niceScrollbarsClass:xd}}=shelter,yd=()=>Promise.all($r.repos.map(Y)),_d=()=>yd().then(e=>e.flatMap(t=>t.themes)),Bi=e=>{let[t,r]=Li(""),[o,n]=Li("0"),[a]=gd(()=>$r.repos,_d);return[(()=>{let i=hd.cloneNode(!0);return(0,Ir.insert)(i,(0,Ae.createComponent)(At,{get query(){return t()},onChange:r}),null),(0,Ir.insert)(i,(0,Ae.createComponent)(Ot,{get filterMode(){return o()},setFilterMode:n}),null),i})(),(0,Or.memo)((()=>{let i=(0,Or.memo)(()=>$r.repos.length===0);return()=>i()?(0,Ae.createComponent)(Fa,{goToRepos:()=>e.goTo(2)}):(0,Ae.createComponent)(Ni,{get class(){return xd()},height:"50rem",keySel:s=>s.url,get items(){return Tt(a(),t(),o())},children:s=>(0,Ae.createComponent)(Ve,{theme:s,gap:".5rem"})})})())]};var Er=c(m());var{Button:bd,Text:vd}=shelter.ui,Fi=()=>[(0,Er.createComponent)(bd,{class:"ysink_stain_button",grow:!0,onClick:Br,children:"Clear fetch cache"}),(0,Er.createComponent)(vd,{children:"@ me if you need other things for debug purposes :)"})];var Mr=c(m()),zi=c(m()),Wi=c(m()),Hi=c(m()),Nt=c(m()),Be=c(m()),wd=(0,Mr.template)('<div class="ysink_stain_tabbar_root"><div class="ysink_stain_tabbar"></div><div class="ysink_stain_tabbar_content"></div></div>',6),Sd=(0,Mr.template)("<button></button>",2),{solid:{createSignal:Td},solidWeb:{Dynamic:Ad},ui:{Text:Cd,Divider:Od}}=shelter,Ui=e=>{let[t,r]=Td(0);return(()=>{let o=wd.cloneNode(!0),n=o.firstChild,a=n.nextSibling;return(0,Be.insert)(n,()=>e.items.map((i,s)=>(()=>{let f=Sd.cloneNode(!0);return f.$$click=()=>r(s),(0,Be.insert)(f,(0,Nt.createComponent)(Cd,{get children(){return i.text}})),(0,Hi.effect)(()=>(0,Wi.className)(f,"ysink_stain_button"+(s===t()?" ysink_stain_selected":""))),f})())),(0,Be.insert)(o,(0,Nt.createComponent)(Od,{mt:".5rem",mb:".5rem"}),a),(0,Be.insert)(a,(0,Nt.createComponent)(Ad,{get component(){return e.items[t()].component},goTo:r})),o})()};(0,zi.delegateEvents)(["click"]);var Id=(0,Gi.template)("<div></div>",2),{Header:$d,HeaderTags:Ed}=shelter.ui,Ki=()=>(()=>{let e=Id.cloneNode(!0);return(0,Pr.insert)(e,(0,kr.createComponent)($d,{get tag(){return Ed.H1},children:"Snazzy Shelter Settings"}),null),(0,Pr.insert)(e,(0,kr.createComponent)(Ui,{items:[{text:"Installed",component:Ga},{text:"Store",component:Bi},{text:"Repos",component:Ei},{text:"Quick CSS",component:wi},{text:"Debug",component:Fi}]}),null),e})();var qi=()=>shelter.settings.registerSection("section","shsnazzy","Themes",Ki);var Yi=`
.ysink_stain_card{background:var(--background-secondary-alt);padding:1rem;border:1px solid var(--background-modifier-accent);border-radius:.5rem;width:100% !important;color:var(--text-normal)}.ysink_stain_title{display:flex;align-items:center;font-size:1rem;color:var(--interactive-active)}.ysink_stain_cardcontainer>*{margin-bottom:.5rem}.ysink_stain_row{display:flex;gap:1rem}.ysink_stain_row>:not(:last-child){flex:1}.ysink_stain_tabbar{padding:.5rem 1rem;display:grid;grid-auto-flow:column;grid-auto-columns:7rem}.ysink_stain_tabbar .ysink_stain_button *{cursor:pointer}.ysink_stain_tabbar>*{margin-right:1rem;padding:.2rem;border-radius:.3rem;min-width:5rem;text-align:center;background:none}.theme-dark .ysink_stain_tabbar>*.ysink_stain_selected{background:rgba(255,255,255,.2666666667)}.theme-light .ysink_stain_tabbar>*.ysink_stain_selected{background:rgba(0,0,0,.2)}.ysink_stain_tabbar>*:last-child{margin-right:0}.ysink_stain_searchbar{margin:.75rem 0}.ysink_stain_search_row{display:flex;gap:.75rem;margin:.75rem 0}.ysink_stain_search_row .ysink_stain_dropdown{height:2.25rem;flex-basis:10rem;background:var(--input-background);color:#fff;border:none;border-radius:3px}.ysink_stain_search_row .ysink_stain_searchbar{margin:unset;flex:1}.ysink_stain_tcard{display:grid;grid-template-columns:auto 1fr min-content;grid-template-rows:auto 1fr;align-items:center}.ysink_stain_tcard .ysink_stain_tmedia{grid-row:1/3;height:4rem;width:7rem;margin-right:1rem;background-size:cover}.ysink_stain_tcard .ysink_stain_tmedia *{display:flex;justify-content:center;align-items:center;height:100%}.ysink_stain_tcard .ysink_stain_tmedia .ysink_stain_tview{z-index:1;transition:opacity 250ms ease;backdrop-filter:brightness(0.3);cursor:pointer}.ysink_stain_tcard .ysink_stain_tmedia .ysink_stain_tview:not(:hover){opacity:0}.ysink_stain_tcard .ysink_stain_tdesc{grid-area:2/2}.ysink_stain_tcard .ysink_stain_tacts{grid-column:3;justify-self:right}.ysink_stain_tcard .ysink_stain_tacts>:last-child{margin-left:.25rem}.ysink_stain_tcard .ysink_stain_tacts>*{display:inline-block}.ysink_stain_tcard .ysink_stain_taulic{text-align:right;min-width:8rem}.ysink_stain_iconbtn{margin-right:.25rem;fill:var(--interactive-normal);cursor:pointer;height:22px;width:22px}.ysink_stain_badge{width:1.5rem;height:1.5rem;margin-right:.5rem;border-radius:50%}.ysink_stain_badge.ysink_stain_bd{padding:.25rem;background:#040405}.ysink_stain_badge.ysink_stain_cc{padding:.1rem;background:#7289da}.ysink_stain_nosplash{display:flex;flex-direction:column;align-items:center;margin-top:15rem;gap:.5rem}.ysink_stain_nosplash h2{margin-bottom:0}.ysink_stain_nosplash>*{flex:0}.ysink_stain_nosplash .ysink_stain_button{margin-top:2rem}.ysink_stain_officialbadge{display:inline;margin-left:.5rem}.ysink_stain_button{color:#fff !important}#shsnazzy-tab{padding-bottom:0}`;var{plugin:{store:oe},ui:{injectCss:Md}}=shelter;Array.isArray(oe.repos)||Fr();Array.isArray(oe.themes)||(oe.themes=[]);oe.css&&(oe.quickCSS||(oe.quickCSS=oe.css),delete oe.css);var Pd=[Wr(),Kr(),qr(),qi(),Md(Yi)],kd=()=>gr(Pd,e=>e());return ts(Rd);})();
/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
